{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"]},"docs":[{"location":"","title":"Welcome to Ministry Mapper","text":""},{"location":"#what-is-ministry-mapper","title":"What is Ministry Mapper?","text":"<p>Ministry Mapper is a modern web application that helps congregations manage their field ministry territories. Instead of using paper territory slips, Ministry Mapper lets you organize and track everything digitally from any device with an internet connection.</p>"},{"location":"#our-story","title":"Our Story","text":"<p>We started Ministry Mapper in 2022 as a simple project to help our local congregation. As more people found it useful, we kept improving it. Today, Ministry Mapper is used by congregations around the world, helping thousands of publishers stay organized in their ministry work.</p>"},{"location":"#what-ministry-mapper-does","title":"What Ministry Mapper Does","text":"<p>Ministry Mapper helps with three main areas:</p> <ul> <li>For Territory Servants: Makes it easy to manage all your territory records in one place. No more filing cabinets or lost papers.</li> <li>For Field Service Conductors: Quickly assign territories to publishers and see who has what territory at any time.</li> <li>For Publishers: Everyone can see updates in real-time and work together more effectively without overlapping or confusion.</li> </ul>"},{"location":"#problems-ministry-mapper-solves","title":"Problems Ministry Mapper Solves","text":""},{"location":"#going-paperless","title":"Going Paperless","text":"<p>Traditional paper territory slips get lost, damaged, or become hard to read over time. Ministry Mapper keeps everything digital and safe in the cloud. You can access your territories from your phone, tablet, or computer anytime.</p>"},{"location":"#better-organization","title":"Better Organization","text":"<p>When territories are shared between multiple publishers, it's easy to accidentally work the same addresses. Ministry Mapper helps everyone see what's happening in real-time, so you don't waste time covering the same ground.</p>"},{"location":"#instant-updates","title":"Instant Updates","text":"<p>When someone updates a territory, everyone sees the changes right away. No waiting for papers to be passed around or meetings to share updates.</p>"},{"location":"#easier-record-keeping","title":"Easier Record Keeping","text":"<p>Instead of manually writing down every change on paper slips, Ministry Mapper automatically tracks everything. This saves hours of work and prevents mistakes.</p>"},{"location":"#how-ministry-mapper-works","title":"How Ministry Mapper Works","text":""},{"location":"#modern-technology-made-simple","title":"Modern Technology Made Simple","text":"<p>Ministry Mapper uses current web technologies to provide a smooth, reliable experience:</p> <ul> <li>React Frontend: A fast, responsive interface that works on any device (phone, tablet, or computer)</li> <li>PocketBase Backend: A powerful but easy-to-manage database system that stores all your information securely</li> <li>Google Maps Integration: See territories on an actual map to make planning easier</li> <li>Multiple Languages: Available in English, Japanese, Korean, Chinese, Indonesian, Malay, and Tamil</li> </ul>"},{"location":"#built-for-reliability","title":"Built for Reliability","text":"<ul> <li>Cloud-Based: Your data is stored safely in the cloud and backed up automatically</li> <li>Real-Time Sync: Changes appear instantly for everyone using the system</li> <li>Error Monitoring: Problems are detected and fixed quickly to keep everything running smoothly</li> <li>Mobile-Friendly: Works perfectly on smartphones, tablets, and computers</li> </ul>"},{"location":"#important-considerations","title":"Important Considerations","text":""},{"location":"#privacy-first","title":"Privacy First","text":"<p>Ministry Mapper tracks residential addresses, which means you need to follow privacy laws in your area. Different countries have different rules (like GDPR in Europe or CCPA in California). Make sure you understand and follow your local regulations before using Ministry Mapper.</p>"},{"location":"#internet-required","title":"Internet Required","text":"<p>Ministry Mapper works over the internet, so you'll need a connection to use it. If your area has unreliable internet, this might cause challenges. The app does work well on mobile data if WiFi isn't available.</p>"},{"location":"#google-maps-availability","title":"Google Maps Availability","text":"<p>Ministry Mapper uses Google Maps to show territories. In some countries, Google Maps may not work properly due to local restrictions. Check if Google Maps works in your area before setting up Ministry Mapper.</p>"},{"location":"#learning-curve","title":"Learning Curve","text":"<p>Moving from paper to digital is a change, especially for those less comfortable with technology. We provide help and support to make the transition easier for everyone in your congregation.</p>"},{"location":"#getting-started","title":"Getting Started","text":""},{"location":"#for-users","title":"For Users","text":"<p>The easiest way to use Ministry Mapper is through our hosted service:</p> <p>ministry-mapper.com</p> <p>Simply:</p> <ol> <li>Visit ministry-mapper.com</li> <li>Create an account using the sign-up page</li> <li>Verify your email address</li> <li>Contact your congregation's administrator for proper permissions</li> </ol> <p>Get Started \u2192</p>"},{"location":"#for-administrators","title":"For Administrators","text":"<p>If you're considering Ministry Mapper for your congregation:</p> <ul> <li>Recommended: Use our hosted service at ministry-mapper.com</li> <li>No technical setup required</li> <li>Professional support available</li> <li>Automatic updates and maintenance</li> <li> <p>Better reliability and security</p> </li> <li> <p>Alternative: Review the Self-Hosting Guide (advanced users only)</p> </li> </ul> <p>We don't encourage self-hosting due to the technical complexity and ongoing maintenance requirements. The hosted service at ministry-mapper.com provides a simpler, more reliable solution.</p> <p>Learn More \u2192</p>"},{"location":"backend-setup/","title":"Backend Setup Guide","text":"<p>Self-Hosting Not Recommended</p> <p>This guide is for advanced users who want to self-host Ministry Mapper. We don't encourage self-hosting due to the technical complexity, maintenance burden, and security responsibilities involved.</p> <p>Most users should: Use our hosted service at ministry-mapper.com</p> <p>Looking for User Documentation?</p> <p>If you're a regular user trying to learn how to use Ministry Mapper, see the Getting Started or User Guide instead.</p>"},{"location":"backend-setup/#overview","title":"Overview","text":"<p>The Ministry Mapper backend (ministry-mapper-be) is built with Go and PocketBase. It provides:</p> <ul> <li>Data storage and management (SQLite database)</li> <li>User authentication and authorization</li> <li>Real-time data synchronization</li> <li>Custom API endpoints for territory management</li> <li>Background jobs for automated tasks</li> <li>Email notifications via SMTP</li> </ul> <p>This guide assumes you have: - Experience with server administration - Understanding of Docker and containerization - Familiarity with environment variables - Knowledge of security best practices</p> <p>For complete self-hosting instructions, see the Self-Hosting Guide.</p>"},{"location":"backend-setup/#quick-reference","title":"Quick Reference","text":"<p>This page provides a quick reference for backend configuration. For complete setup instructions, see the Self-Hosting Guide.</p>"},{"location":"backend-setup/#technology-stack","title":"Technology Stack","text":"<ul> <li>Go: Fast, efficient programming language</li> <li>PocketBase: Backend-as-a-service with built-in admin panel</li> <li>SQLite: Lightweight database in <code>pb_data</code> folder</li> <li>Docker: Alpine Linux-based container</li> </ul>"},{"location":"backend-setup/#key-features","title":"Key Features","text":"<ul> <li>Data storage and management</li> <li>User authentication</li> <li>Real-time subscriptions (Server-Sent Events)</li> <li>Custom API endpoints</li> <li>Scheduled background jobs</li> <li>Email notifications (SMTP)</li> <li>Error tracking (Sentry)</li> <li>Feature flags (LaunchDarkly)</li> </ul> <p>Complete Setup Instructions</p> <p>The sections below provide a technical reference for backend configuration. For step-by-step setup instructions with context and explanations, please see the Self-Hosting Guide.</p>"},{"location":"backend-setup/#environment-variables-explained","title":"Environment Variables Explained","text":""},{"location":"backend-setup/#service-integration-keys-optional","title":"Service Integration Keys (Optional)","text":"<pre><code># MailerSend API key - for sending emails via MailerSend service\n# Leave empty if using SMTP instead\nMAILERSEND_API_KEY=\n\n# Email address for MailerSend sender\nMAILERSEND_FROM_EMAIL=\n\n# LaunchDarkly SDK key - for feature flags to control background jobs\n# Jobs run by default if not configured\nLAUNCHDARKLY_SDK_KEY=\nLAUNCHDARKLY_CONTEXT_KEY=\n</code></pre>"},{"location":"backend-setup/#application-settings","title":"Application Settings","text":"<pre><code># Name shown in emails and admin panel\nPB_APP_NAME=Ministry Mapper\n\n# URL where your frontend is hosted\nPB_APP_URL=http://localhost:3000\n</code></pre>"},{"location":"backend-setup/#default-admin-account","title":"Default Admin Account","text":"<pre><code># Initial admin account created during first setup\n# Change password immediately after first login!\nPB_ADMIN_EMAIL=testing_account@ministry-mapper.com\nPB_ADMIN_PASSWORD=pb123456789\n</code></pre>"},{"location":"backend-setup/#email-configuration-smtp","title":"Email Configuration (SMTP)","text":"<pre><code># SMTP server address (e.g., smtp.gmail.com, smtp.sendgrid.net)\nPB_SMTP_HOST=\n\n# SMTP password (use App Password for Gmail, not your regular password)\nPB_SMTP_PASSWORD=\n\n# SMTP username (usually your email address)\nPB_SMTP_USERNAME=\n\n# SMTP port (587 for TLS, 465 for SSL)\nPB_SMTP_PORT=587\n\n# Email address shown in the \"From\" field\nPB_SMTP_SENDER_ADDRESS=support@ministry-mapper.com\n\n# Name shown in the \"From\" field\nPB_SMTP_SENDER_NAME=MM Support\n</code></pre>"},{"location":"backend-setup/#security-access-control","title":"Security &amp; Access Control","text":"<pre><code># Comma-separated list of allowed origins for CORS\n# Use * for development, specific domains for production\n# Example: https://app.example.com,https://app2.example.com\nPB_ALLOW_ORIGINS=*\n\n# Hide the admin UI from public access (true/false)\n# Set to true in production for security\nPB_HIDE_CONTROLS=false\n</code></pre>"},{"location":"backend-setup/#authentication-settings","title":"Authentication Settings","text":"<pre><code># Enable one-time password login (true/false)\nPB_OTP_ENABLED=false\n\n# Enable multi-factor authentication (true/false)\nPB_MFA_ENABLED=false\n</code></pre>"},{"location":"backend-setup/#rate-limiting","title":"Rate Limiting","text":"<pre><code># Enable rate limiting to prevent API abuse (true/false)\nPB_ENABLE_RATE_LIMITING=false\n</code></pre>"},{"location":"backend-setup/#error-tracking-not-in-envsample-add-manually-if-needed","title":"Error Tracking (Not in .env.sample - add manually if needed)","text":"<pre><code># Sentry DSN for error monitoring and tracking\nSENTRY_DSN=\n\n# Environment name for Sentry (development, staging, production)\nSENTRY_ENV=production\n\n# Git commit hash - automatically set by hosting platforms like Coolify\nSOURCE_COMMIT=\n</code></pre>"},{"location":"backend-setup/#installation-steps","title":"Installation Steps","text":""},{"location":"backend-setup/#option-1-docker-deployment-recommended","title":"Option 1: Docker Deployment (Recommended)","text":"<p>Docker makes deployment simple and consistent across platforms.</p>"},{"location":"backend-setup/#1-build-the-docker-image","title":"1. Build the Docker Image","text":"<pre><code>docker build -t ministry-mapper-backend .\n</code></pre>"},{"location":"backend-setup/#2-run-the-container","title":"2. Run the Container","text":"<pre><code>docker run -d \\\n  -p 8080:8080 \\\n  -v /path/to/pb_data:/app/pb_data \\\n  --env-file .env \\\n  --name ministry-mapper \\\n  ministry-mapper-backend\n</code></pre> <p>Important Notes:</p> <ul> <li>The container runs on port 8080 (not 8090)</li> <li><code>-p 8080:8080</code> maps the container's port 8080 to your host port 8080</li> <li><code>-v /path/to/pb_data:/app/pb_data</code> saves your database permanently (replace <code>/path/to/pb_data</code> with a real path on your system)</li> <li><code>--env-file .env</code> loads your environment variables from the <code>.env</code> file</li> <li><code>-d</code> runs the container in the background (detached mode)</li> </ul>"},{"location":"backend-setup/#option-2-local-development","title":"Option 2: Local Development","text":"<p>For development and testing on your computer:</p>"},{"location":"backend-setup/#1-install-go-dependencies","title":"1. Install Go Dependencies","text":"<pre><code>./scripts/install.sh\n</code></pre> <p>This script runs <code>go get ./...</code> and <code>go mod tidy</code> to install all dependencies.</p>"},{"location":"backend-setup/#2-set-up-environment-variables","title":"2. Set Up Environment Variables","text":"<pre><code>cp .env.sample .env\n# Edit .env with your settings\n</code></pre>"},{"location":"backend-setup/#3-run-the-application","title":"3. Run the Application","text":"<pre><code>./scripts/start.sh\n</code></pre> <p>This script exports environment variables from <code>.env</code> and runs <code>go run main.go serve</code>.</p> <p>The backend will start on http://localhost:8090 by default (PocketBase default port).</p>"},{"location":"backend-setup/#accessing-the-admin-panel","title":"Accessing the Admin Panel","text":"<p>Once your backend is running:</p> <ol> <li>Navigate to <code>http://your-backend-url/_/</code> (note the underscore and trailing slash)</li> <li>Log in with your admin credentials from <code>PB_ADMIN_EMAIL</code> and <code>PB_ADMIN_PASSWORD</code></li> <li>You'll see the PocketBase admin dashboard</li> </ol>"},{"location":"backend-setup/#what-you-can-do-in-the-admin-panel","title":"What You Can Do in the Admin Panel","text":"<ul> <li>Collections: View and edit all database tables (users, congregations, territories, maps, addresses, etc.)</li> <li>Logs: View application and request logs</li> <li>Settings: Configure authentication, email, backups, and more</li> <li>Files: Manage uploaded files and storage</li> <li>API Rules: Set permissions for each collection</li> </ul> <p>Security Note: Set <code>PB_HIDE_CONTROLS=true</code> in production to hide the admin UI from public access.</p>"},{"location":"backend-setup/#database-management","title":"Database Management","text":""},{"location":"backend-setup/#backing-up-your-data","title":"Backing Up Your Data","text":"<p>Your data lives in the <code>pb_data</code> folder. Regular backups are crucial.</p>"},{"location":"backend-setup/#manual-backup","title":"Manual Backup","text":"<pre><code># Create a backup of the entire pb_data folder\ntar -czf ministry-mapper-backup-$(date +%Y%m%d).tar.gz /path/to/pb_data/\n</code></pre>"},{"location":"backend-setup/#automated-daily-backup","title":"Automated Daily Backup","text":"<p>Set up a cron job to back up automatically:</p> <pre><code># Add to crontab (run: crontab -e)\n0 2 * * * tar -czf /backups/ministry-mapper-backup-$(date +\\%Y\\%m\\%d).tar.gz /path/to/pb_data/\n</code></pre> <p>This runs at 2 AM daily and creates timestamped backups.</p>"},{"location":"backend-setup/#restoring-from-backup","title":"Restoring from Backup","text":"<pre><code># Stop the application first\n# Then extract the backup\ntar -xzf ministry-mapper-backup-20240101.tar.gz -C /path/to/\n</code></pre>"},{"location":"backend-setup/#security-checklist","title":"Security Checklist","text":"<p>Before going to production:</p> <ul> <li>[ ] Change the default admin password immediately after first login</li> <li>[ ] Set <code>PB_ALLOW_ORIGINS</code> to your actual domain(s), not <code>*</code></li> <li>[ ] Enable HTTPS (never use HTTP in production)</li> <li>[ ] Set <code>PB_HIDE_CONTROLS=true</code> to hide admin UI from unauthorized access</li> <li>[ ] Consider enabling rate limiting with <code>PB_ENABLE_RATE_LIMITING=true</code></li> <li>[ ] Configure Sentry (<code>SENTRY_DSN</code> and <code>SENTRY_ENV</code>) for error monitoring</li> <li>[ ] Set up automated daily backups</li> <li>[ ] Use strong, unique passwords for all accounts</li> <li>[ ] For Gmail SMTP, use App Passwords instead of your regular password</li> <li>[ ] Keep Go dependencies updated regularly with <code>./scripts/update.sh</code></li> </ul>"},{"location":"backend-setup/#updating-the-backend","title":"Updating the Backend","text":"<p>To update to a new version:</p>"},{"location":"backend-setup/#docker-update","title":"Docker Update","text":"<pre><code># Pull the latest code\ngit pull origin main\n\n# Rebuild the Docker image\ndocker build -t ministry-mapper-backend .\n\n# Stop and remove the old container\ndocker stop ministry-mapper\ndocker rm ministry-mapper\n\n# Start the new container (use port 8080, not 8090)\ndocker run -d \\\n  -p 8080:8080 \\\n  -v /path/to/pb_data:/app/pb_data \\\n  --env-file .env \\\n  --name ministry-mapper \\\n  ministry-mapper-backend\n</code></pre>"},{"location":"backend-setup/#local-development-update","title":"Local Development Update","text":"<pre><code># Pull the latest code\ngit pull origin main\n\n# Update dependencies\n./scripts/update.sh\n\n# Restart the application\n./scripts/start.sh\n</code></pre> <p>Note: Your data in <code>pb_data</code> is preserved during updates.</p>"},{"location":"backend-setup/#database-migrations","title":"Database Migrations","text":"<p>The backend automatically runs database migrations when starting in development mode (when using <code>go run</code>). You'll see messages in the logs like:</p> <pre><code>Running migrations...\nMigration 1759244334_collections_snapshot completed\n</code></pre> <p>How it Works:</p> <ul> <li>Migrations are stored in the <code>migrations/</code> folder</li> <li>PocketBase detects if you're running via <code>go run</code> and auto-migrates</li> <li>In production (compiled binary), you need to run migrations manually using: <code>./main migrate</code></li> </ul> <p>Important: Never delete or modify migration files manually. This can break your database.</p>"},{"location":"backend-setup/#monitoring-and-logs","title":"Monitoring and Logs","text":""},{"location":"backend-setup/#viewing-logs","title":"Viewing Logs","text":""},{"location":"backend-setup/#docker-logs","title":"Docker Logs","text":"<pre><code># View recent logs\ndocker logs ministry-mapper\n\n# Follow logs in real-time (useful for debugging)\ndocker logs -f ministry-mapper\n\n# View last 100 lines\ndocker logs --tail 100 ministry-mapper\n</code></pre>"},{"location":"backend-setup/#application-logs","title":"Application Logs","text":"<p>PocketBase stores logs in the <code>pb_data/logs/</code> folder. These include:</p> <ul> <li>Request logs</li> <li>Error logs</li> <li>Custom application logs</li> </ul>"},{"location":"backend-setup/#what-to-look-for-in-logs","title":"What to Look For in Logs","text":"<ul> <li>Startup Messages: Confirms successful initialization (e.g., \"Starting Ministry Mapper build...\")</li> <li>Migration Messages: Database migrations being applied</li> <li>Sentry Initialization: Error tracking setup</li> <li>Cron Jobs: Background task execution (territory aggregates, message processing, etc.)</li> <li>Error Messages: Problems with database, email, API calls, or LaunchDarkly</li> <li>Authentication Events: Login attempts and user activity</li> <li>Performance Issues: Slow queries or timeouts</li> </ul>"},{"location":"backend-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"backend-setup/#port-already-in-use","title":"Port Already in Use","text":"<p>Problem: \"Port already in use\" error</p> <p>Solution:</p> <pre><code># For Docker (port 8080)\nlsof -i :8080\n\n# For local development (port 8090)\nlsof -i :8090\n\n# Kill the process using the port\nkill -9 &lt;process_id&gt;\n\n# Or map to a different port\ndocker run -p 8081:8080 ...  # Maps host port 8081 to container port 8080\n</code></pre> <pre><code>### Database Locked\n\n**Problem**: \"Database is locked\" error\n\n**Solution**:\n- Stop all containers/processes accessing the database\n- Check if a backup process is running\n- Ensure only one instance of the app is running\n- SQLite doesn't support concurrent writes from multiple processes\n- Restart the application\n\n### Email Not Sending\n\n**Problem**: Users don't receive emails\n\n**Solutions**:\n1. **Verify SMTP Settings**: Check all `PB_SMTP_*` variables in `.env`\n2. **Gmail Users**: Use an [App Password](https://support.google.com/accounts/answer/185833), not your regular password\n3. **Check Spam Folder**: Emails might be filtered\n4. **Test SMTP Connection**: Use a tool like `telnet` or an email client to verify SMTP credentials\n5. **Review Logs**: Look for error messages in `pb_data/logs/` or Docker logs\n6. **Port Issues**: Ensure port 587 (TLS) or 465 (SSL) is not blocked by firewall\n\n### Out of Memory\n\n**Problem**: Application crashes with memory errors\n\n**Solutions**:\n- Increase Docker memory limits: `docker run -m 1g ...`\n- Check logs for memory leaks\n- Optimize large database queries\n- Upgrade your hosting plan's RAM allocation\n- Consider using SQLite PRAGMA optimizations for large datasets\n\n### Cannot Access Admin Panel\n\n**Problem**: 404 error when accessing admin URL\n\n**Solutions**:\n- Ensure URL format: `http://your-url/_/` (with underscore and trailing slash)\n- Check if `PB_HIDE_CONTROLS=true` (prevents admin UI access)\n- Verify the application is running: `docker ps` or check process\n- Clear browser cache and cookies\n- Check logs for startup errors\n\n## Performance Tips\n\n### Small Congregations (&lt; 100 users)\n- Default settings work well\n- 512MB RAM is sufficient\n- SQLite handles this load easily\n- No special configuration needed\n\n### Medium Congregations (100-500 users)\n- Recommended: 1GB RAM\n- Enable rate limiting: `PB_ENABLE_RATE_LIMITING=true`\n- Set up daily automated backups\n- Monitor database size in `pb_data/data.db`\n\n### Large Congregations (&gt; 500 users)\n- Recommended: 2GB+ RAM\n- Enable rate limiting\n- Consider dedicated hosting (not shared)\n- Monitor logs for slow queries\n- Set up backup retention policy (keep last 30 days)\n- Consider LaunchDarkly feature flags to control background job frequency\n\n## API Endpoints\n\nThe backend provides these custom authenticated API endpoints (all require user authentication):\n\n### Map Management\n- `POST /map/codes` - Get all map codes for a specific map\n- `POST /map/code/add` - Add a new address code to a map\n- `POST /map/codes/update` - Update the sequence/order of map codes\n- `POST /map/code/delete` - Delete an address code from a map\n- `POST /map/add` - Create a new map\n- `POST /map/territory/update` - Update which territory a map belongs to\n- `POST /map/reset` - Reset a map (clear all assignments and data)\n\n### Floor Management\n- `POST /map/floor/add` - Add a floor level to a map\n- `POST /map/floor/remove` - Remove a floor from a map\n\n### Territory Management\n- `POST /territory/reset` - Reset a territory (clear assignments)\n- `POST /territory/link` - Create a quick access link for a territory\n\n### Configuration\n- `POST /options/update` - Update congregation options/settings\n\n**Authentication**: All endpoints require a valid PocketBase authentication token in the request header.\n\n**PocketBase Built-in APIs**: In addition to custom endpoints, PocketBase provides automatic REST APIs for all collections (CRUD operations) at `/api/collections/{collection}/records`.\n\n## Background Jobs (Cron Scheduler)\n\nThe backend runs automated background tasks using a cron scheduler. These jobs are controlled by LaunchDarkly feature flags:\n\n### Scheduled Jobs\n\n1. **Territory Aggregates** (`*/10 * * * *` - every 10 minutes)\n   - Updates territory statistics and aggregated data\n   - Feature flag: `enable-territory-aggregations`\n\n2. **Assignment Cleanup** (`*/5 * * * *` - every 5 minutes)\n   - Removes expired or invalid territory assignments\n   - Feature flag: `enable-assignments-cleanup`\n\n3. **Message Processing** (`*/30 * * * *` - every 30 minutes)\n   - Processes pending messages in the queue\n   - Feature flag: `enable-message-processing`\n\n4. **Instruction Processing** (`*/30 * * * *` - every 30 minutes)\n   - Handles pending territory assignment instructions\n   - Feature flag: `enable-instruction-processing`\n\n5. **Note Processing** (`0 * * * *` - hourly)\n   - Processes updated notes for congregations\n   - Feature flag: `enable-note-processing`\n\n6. **Monthly Report** (`0 0 1 * *` - 1st of each month at midnight)\n   - Generates Excel report of congregation data\n   - Feature flag: `enable-monthly-report`\n\n**Note**: If LaunchDarkly is not configured, all jobs run by default (enabled: true).\n\n## Database Hooks\n\nThe application automatically handles certain events:\n\n- **Address Updates**: When address notes change, timestamps and user info are recorded\n- **Address Updates**: Triggers map aggregate recalculation\n- **User Authentication**: Updates last login timestamp\n- **User Creation**: Normalizes and lowercase email addresses\n\n## Next Steps\n\n- Set up the [Frontend Application](frontend-setup.md)\n- Learn about [User Management](user-management.md)\n- Configure [Security Settings](security.md)\n</code></pre>"},{"location":"faq/","title":"Frequently Asked Questions (FAQ)","text":""},{"location":"faq/#general-questions","title":"General Questions","text":""},{"location":"faq/#what-is-ministry-mapper","title":"What is Ministry Mapper?","text":"<p>Ministry Mapper is a modern web application that helps congregations manage field service territories digitally. Instead of using paper territory slips, Ministry Mapper lets you organize and track everything digitally from any device with an internet connection. It uses React for the frontend, PocketBase as the backend, and Google Maps API for territory visualization.</p>"},{"location":"faq/#how-do-i-access-ministry-mapper","title":"How do I access Ministry Mapper?","text":"<p>Recommended: Use our hosted service at ministry-mapper.com</p> <p>Simply: 1. Visit ministry-mapper.com 2. Create an account using the sign-up page 3. Verify your email address 4. Contact your congregation's administrator for proper permissions</p> <p>Alternative: Self-hosting (not recommended) - see the Self-Hosting Guide for details. Self-hosting requires significant technical expertise and ongoing maintenance.</p>"},{"location":"faq/#is-ministry-mapper-free-to-use","title":"Is Ministry Mapper free to use?","text":"<p>Hosted Service: Visit ministry-mapper.com for pricing and plans.</p> <p>Self-Hosting: The source code is free and open-source, but you'll need to provide your own: - Hosting for the frontend (e.g., Vercel, Netlify, AWS) - PocketBase backend deployment - Google Maps API key (has a generous free tier) - Optional: Sentry account for error monitoring</p> <p>Note: Self-hosting costs (server, API fees, maintenance time) often exceed hosted service fees.</p>"},{"location":"faq/#what-languages-does-ministry-mapper-support","title":"What languages does Ministry Mapper support?","text":"<p>Currently supported languages:</p> <ul> <li>English</li> <li>Japanese (\u65e5\u672c\u8a9e)</li> <li>Korean (\ud55c\uad6d\u8a9e)</li> <li>Chinese (\u4e2d\u6587)</li> <li>Indonesian (Bahasa Indonesia)</li> <li>Malay (Bahasa Melayu)</li> <li>Tamil (\u0ba4\u0bae\u0bbf\u0bb4\u0bcd)</li> </ul> <p>The interface automatically detects your browser's language. You can also manually switch languages in the app.</p>"},{"location":"faq/#do-i-need-technical-knowledge-to-use-ministry-mapper","title":"Do I need technical knowledge to use Ministry Mapper?","text":"<p>As a Publisher/User: No technical knowledge needed! If you can use a smartphone or computer, you can use Ministry Mapper through the hosted service at ministry-mapper.com.</p> <p>As a Self-Hosting Administrator: Yes, significant technical knowledge is required:</p> <ul> <li>Experience with Linux server administration</li> <li>Understanding of Docker and containerization</li> <li>Knowledge of environment variables and configuration</li> <li>Familiarity with SSL/TLS certificates</li> <li>Web server configuration (Nginx/Apache)</li> <li>DNS and domain configuration</li> </ul> <p>We strongly recommend using the hosted service instead of self-hosting. See the Self-Hosting Guide for complete details if you still want to self-host.</p>"},{"location":"faq/#can-ministry-mapper-work-offline","title":"Can Ministry Mapper work offline?","text":"<p>No, an internet connection is required for the app to function properly. This is because:</p> <ul> <li>It needs to connect to the PocketBase backend</li> <li>Google Maps API requires internet access</li> <li>Real-time updates between users require connectivity</li> </ul> <p>The app does work well on mobile data if WiFi isn't available.</p>"},{"location":"faq/#privacy-and-legal","title":"Privacy and Legal","text":""},{"location":"faq/#what-privacy-laws-should-i-consider","title":"What privacy laws should I consider?","text":"<p>Important: Ministry Mapper tracks residential addresses, which may be subject to data privacy laws. These laws vary significantly between countries and regions:</p> <ul> <li>Europe: GDPR (General Data Protection Regulation)</li> <li>California: CCPA (California Consumer Privacy Act)</li> <li>Brazil: LGPD (Lei Geral de Prote\u00e7\u00e3o de Dados)</li> <li>Many Others: Various local regulations</li> </ul> <p>Please thoroughly review your local regulations and ensure compliance before using Ministry Mapper. Consult a legal professional for proper legal advice specific to your area.</p> <p>Hosted Service: The hosted service at ministry-mapper.com may provide compliance assistance, but you remain responsible for following your local laws.</p> <p>Self-Hosting: You are fully responsible for all privacy law compliance.</p>"},{"location":"faq/#what-data-does-ministry-mapper-store","title":"What data does Ministry Mapper store?","text":"<p>User Data (managed by PocketBase):</p> <ul> <li>Email address</li> <li>Name</li> <li>Password (encrypted)</li> <li>User roles and permissions</li> </ul> <p>Territory Data:</p> <ul> <li>Territory boundaries and names</li> <li>Addresses</li> <li>Status information</li> <li>Notes about households</li> <li>Assignment history</li> <li>Update timestamps</li> </ul> <p>Technical Data (if Sentry is enabled):</p> <ul> <li>Error logs</li> <li>Performance metrics</li> </ul> <p>All data storage complies with security best practices. For hosted service data policies, check ministry-mapper.com.</p>"},{"location":"faq/#is-google-maps-available-in-my-region","title":"Is Google Maps available in my region?","text":"<p>Ministry Mapper relies on Google Maps API, which may have limited functionality or be completely unavailable in certain countries or regions due to local restrictions. Please verify Google Maps availability in your area before implementing Ministry Mapper.</p>"},{"location":"faq/#technical-setup-self-hosting","title":"Technical Setup (Self-Hosting)","text":"<p>Self-Hosting Not Recommended</p> <p>The following sections are for advanced users who want to self-host Ministry Mapper. We strongly recommend using the hosted service at ministry-mapper.com instead. Self-hosting requires significant technical expertise, ongoing maintenance, and security responsibilities.</p> <p>For complete self-hosting instructions, see the Self-Hosting Guide.</p>"},{"location":"faq/#what-are-the-system-requirements","title":"What are the system requirements?","text":"<p>For Using the Hosted Service: - Modern web browser (Chrome, Firefox, Safari, Edge) - Internet connection - Email address - Mobile device or computer</p> <p>For Self-Hosting Development:</p> <ul> <li>Node.js &gt;= 22.0.0</li> <li>npm package manager</li> <li>Git</li> <li>Docker (for backend)</li> </ul> <p>For Self-Hosting Production:</p> <ul> <li>Cloud hosting service (Railway, Render, DigitalOcean, AWS, etc.)</li> <li>Domain name</li> <li>SSL/TLS certificate</li> <li>PocketBase backend (separate deployment)</li> <li>Google Maps API key</li> <li>(Optional) Sentry account for monitoring</li> <li>(Optional) Email service for notifications</li> </ul>"},{"location":"faq/#what-environment-variables-are-required","title":"What environment variables are required?","text":"<p>For Self-Hosting Only - This section applies only if you're self-hosting. The hosted service handles all configuration automatically.</p> <p>Frontend (.env file):</p> <pre><code>VITE_SYSTEM_ENVIRONMENT=local\nVITE_VERSION=$npm_package_version\nVITE_GOOGLE_MAPS_API_KEY=your_google_maps_key\nVITE_POCKETBASE_URL=your_pocketbase_backend_url\nVITE_SENTRY_DSN=your_sentry_dsn (optional)\nVITE_PRIVACY_URL=your_privacy_policy_url\nVITE_TERMS_URL=your_terms_url\nVITE_ABOUT_URL=your_about_page_url\n</code></pre> <p>For production: Same variables as above, but with <code>VITE_SYSTEM_ENVIRONMENT=production</code></p> <p>See the Frontend Setup Guide for complete details.</p>"},{"location":"faq/#how-do-i-deploy-the-frontend","title":"How do I deploy the frontend?","text":"<p>For Self-Hosting Only - Skip this if you're using the hosted service.</p> <ol> <li>Build the application:</li> </ol> <pre><code>npm run build\n</code></pre> <ol> <li> <p>Configure environment variables as specified above</p> </li> <li> <p>Deploy the <code>build/</code> folder to your hosting provider:</p> </li> <li> <p>Vercel: Connect your GitHub repo and configure environment variables</p> </li> <li>Netlify: Drag and drop the build folder or connect via Git</li> <li> <p>AWS S3: Upload build folder and configure static website hosting</p> </li> <li> <p>Ensure the PocketBase backend is deployed and accessible at the URL specified in <code>VITE_POCKETBASE_URL</code></p> </li> </ol> <p>See the Frontend Setup Guide and Self-Hosting Guide for detailed instructions.</p>"},{"location":"faq/#how-do-i-set-up-the-pocketbase-backend","title":"How do I set up the PocketBase backend?","text":"<p>For Self-Hosting Only - Skip this if you're using the hosted service.</p> <p>The backend is managed in a separate repository: ministry-mapper-be</p> <p>Quick Overview:</p> <ol> <li>Clone the backend repository</li> <li>Configure environment variables (see Backend Setup Guide)</li> <li>Deploy using Docker or Railway/Render</li> <li>Initialize the database with the schema</li> <li>Configure SMTP for email notifications (optional)</li> </ol> <p>Detailed instructions: See the Backend Setup Guide and Self-Hosting Guide.</p> <p>Important: The backend must be deployed and accessible before deploying the frontend.</p>"},{"location":"faq/#how-do-i-get-a-google-maps-api-key","title":"How do I get a Google Maps API key?","text":"<p>For Self-Hosting Only - Skip this if you're using the hosted service.</p> <ol> <li>Go to Google Cloud Console</li> <li>Create a new project or select an existing one</li> <li>Enable the following APIs:</li> <li>Maps JavaScript API</li> <li>Geocoding API</li> <li>Go to Credentials and create an API key</li> <li>Restrict the API key to your domain(s) for security</li> <li>Note: Google Maps has a generous free tier (~$200 credit/month)</li> </ol>"},{"location":"faq/#how-do-i-set-up-sentry-monitoring","title":"How do I set up Sentry monitoring?","text":"<p>For Self-Hosting Only - Skip this if you're using the hosted service.</p> <ol> <li>Create a Sentry account</li> <li>Create a React project</li> <li>Go to settings and retrieve the DSN key</li> <li>Configure the following environment variables:</li> <li><code>VITE_SENTRY_DSN</code>: Your Sentry project DSN</li> <li><code>VITE_SYSTEM_ENVIRONMENT</code>: Set to \"production\" for production (affects tracing sample rate)</li> <li><code>VITE_VERSION</code>: Used for release tracking in Sentry</li> </ol> <p>Note: Sentry is optional but recommended for production deployments.</p>"},{"location":"faq/#development","title":"Development","text":""},{"location":"faq/#how-do-i-run-the-app-locally","title":"How do I run the app locally?","text":"<p>For Developers Only - This section is for developers contributing to Ministry Mapper.</p> <ol> <li>Clone the repository:</li> </ol> <pre><code>git clone https://github.com/rimorin/ministry-mapper-v2.git\ncd ministry-mapper-v2\n</code></pre> <ol> <li>Install dependencies:</li> </ol> <pre><code>npm install\n</code></pre> <ol> <li> <p>Configure .env file with required environment variables (see <code>.env.example</code>)</p> </li> <li> <p>Start development server: <pre><code>npm start\n</code></pre></p> </li> </ol> <p>The app will run on <code>http://localhost:3000</code></p> <p>Note: You need a running PocketBase backend for the app to function. See the Backend Setup Guide.</p>"},{"location":"faq/#how-do-i-run-tests","title":"How do I run tests?","text":"<pre><code>npm test\n</code></pre> <p>Tests are written using Vitest and Testing Library. Test files are located alongside the source files with <code>.test.ts</code> extension.</p>"},{"location":"faq/#how-do-i-format-code","title":"How do I format code?","text":"<p>Check formatting:</p> <pre><code>npm run prettier\n</code></pre> <p>Apply formatting fixes:</p> <pre><code>npm run prettier:fix\n</code></pre> <p>The project uses Prettier for code formatting and has pre-commit hooks configured via Husky.</p>"},{"location":"faq/#whats-the-tech-stack","title":"What's the tech stack?","text":"<ul> <li>Frontend Framework: React 19 with TypeScript</li> <li>Build Tool: Vite</li> <li>UI Library: React Bootstrap (Bootstrap 5)</li> <li>Maps: Google Maps API via @vis.gl/react-google-maps</li> <li>State Management: React Context + custom hooks</li> <li>Routing: Wouter</li> <li>Styling: SCSS</li> <li>Backend: PocketBase (separate repository)</li> <li>Monitoring: Sentry</li> <li>Testing: Vitest + Testing Library</li> </ul> <p>See CLAUDE.md for detailed architecture information.</p>"},{"location":"faq/#troubleshooting","title":"Troubleshooting","text":""},{"location":"faq/#the-app-shows-cannot-connect-to-backend","title":"The app shows \"Cannot connect to backend\"","text":"<p>For Hosted Service Users: If you see this error, the service may be experiencing issues. Check the status page or contact support.</p> <p>For Self-Hosting Users:</p> <p>Possible causes:</p> <ol> <li>PocketBase backend is not running or not accessible</li> <li><code>VITE_POCKETBASE_URL</code> environment variable is incorrect</li> <li>CORS issues (backend not allowing frontend domain)</li> </ol> <p>Solutions:</p> <ul> <li>Verify the backend is running and accessible</li> <li>Check the URL in your environment variables</li> <li>Configure CORS settings in PocketBase to allow your frontend domain</li> </ul>"},{"location":"faq/#google-maps-is-not-loading","title":"Google Maps is not loading","text":"<p>Possible causes:</p> <ol> <li>Invalid or missing Google Maps API key</li> <li>API key restrictions blocking your domain</li> <li>Required Google Maps APIs not enabled</li> <li>Exceeded Google Maps free tier quota</li> <li>Google Maps restricted in your country</li> </ol> <p>Solutions:</p> <ul> <li>For hosted service: Contact support if you experience map issues</li> <li>For self-hosting: Verify your API key is correct and APIs are enabled</li> <li>Check API key restrictions in Google Cloud Console</li> <li>Enable Maps JavaScript API and Geocoding API</li> <li>Check usage in Google Cloud Console</li> <li>Verify Google Maps availability in your region</li> </ul>"},{"location":"faq/#changes-are-not-reflected-after-rebuilding","title":"Changes are not reflected after rebuilding","text":"<p>For Self-Hosting Only:</p> <p>Possible causes:</p> <ol> <li>Browser cache</li> <li>CDN cache (if using one)</li> <li>Build artifacts not properly deployed</li> </ol> <p>Solutions:</p> <ul> <li>Clear browser cache or use incognito mode</li> <li>Invalidate CDN cache if applicable</li> <li>Verify the build folder was completely replaced on your hosting service</li> <li>Check browser console for errors</li> </ul>"},{"location":"faq/#user-authentication-not-working","title":"User authentication not working","text":"<p>For Hosted Service Users: Contact support if you're having authentication issues.</p> <p>For Self-Hosting Users:</p> <p>Possible causes:</p> <ol> <li>PocketBase backend user management not configured</li> <li>Network connectivity issues</li> <li>Incorrect PocketBase URL</li> <li>CORS configuration issues</li> </ol> <p>Solutions:</p> <ul> <li>Verify PocketBase backend is properly configured</li> <li>Check browser console for error messages</li> <li>Test backend API endpoints directly</li> <li>Check CORS settings in PocketBase</li> </ul>"},{"location":"faq/#the-app-is-slow-or-unresponsive","title":"The app is slow or unresponsive","text":"<p>Possible causes:</p> <ol> <li>Large territory datasets</li> <li>Network latency</li> <li>Insufficient server resources (self-hosting)</li> <li>Browser performance issues</li> </ol> <p>Solutions:</p> <ul> <li>Check your internet connection</li> <li>Try using a different browser</li> <li>For self-hosting: Optimize territory data (reduce unnecessary fields)</li> <li>For self-hosting: Use a closer hosting region</li> <li>For self-hosting: Upgrade server resources if needed</li> <li>Clear browser cache and data</li> <li>Check browser console for performance warnings</li> </ul>"},{"location":"faq/#contributing","title":"Contributing","text":""},{"location":"faq/#how-do-i-report-a-bug","title":"How do I report a bug?","text":"<ol> <li>Check if the bug is already reported in GitHub Issues</li> <li>If not, create a new issue with:</li> <li>Clear description of the problem</li> <li>Steps to reproduce</li> <li>Expected vs actual behavior</li> <li>Browser and device information</li> <li>Screenshots or error messages</li> <li>Your environment configuration (without sensitive data)</li> </ol>"},{"location":"faq/#can-i-request-features","title":"Can I request features?","text":"<p>Yes! Create a feature request on GitHub with:</p> <ul> <li>Clear description of the feature</li> <li>Use case and benefits</li> <li>How it would work</li> <li>Who would benefit</li> </ul> <p>Note: This is a volunteer-maintained project, so implementation depends on available time and resources.</p>"},{"location":"faq/#can-i-contribute-code","title":"Can I contribute code?","text":"<p>Absolutely! Contributions are welcome:</p> <p>How to contribute:</p> <ol> <li>Fork the repository</li> <li>Create a feature branch</li> <li>Make your changes following the existing code style</li> <li>Write tests for new functionality</li> <li>Run <code>npm test</code> and <code>npm run prettier</code> to ensure quality</li> <li>Submit a pull request with a clear description</li> </ol> <p>Contribution guidelines:</p> <ul> <li>Follow TypeScript and React best practices</li> <li>Use existing patterns in the codebase</li> <li>Update documentation if needed</li> <li>Keep changes focused and minimal</li> <li>Test thoroughly before submitting</li> </ul> <p>See CLAUDE.md for architecture details and coding conventions.</p>"},{"location":"faq/#can-i-translate-the-app-to-a-new-language","title":"Can I translate the app to a new language?","text":"<p>Yes! The app uses internationalization (i18n) for translations:</p> <ol> <li>Check <code>src/i18n/</code> directory in the frontend repository for existing translations</li> <li>Create a new language file following the existing structure</li> <li>Add your translations</li> <li>Update the language selector component</li> <li>Submit a pull request</li> </ol>"},{"location":"faq/#how-do-i-upgrade-to-a-new-version","title":"How do I upgrade to a new version?","text":"<p>For Hosted Service Users: Updates are automatic. You don't need to do anything!</p> <p>For Self-Hosting Users:</p> <p>Frontend:</p> <pre><code>git pull origin main\nnpm install\nnpm run build\n# Deploy new build to your hosting service\n</code></pre> <p>Backend: Refer to the Ministry Mapper BE repository for backend upgrade instructions.</p> <p>Important:</p> <ul> <li>Always backup your data first</li> <li>Read CHANGELOG.md for breaking changes</li> <li>Test in a staging environment if possible</li> <li>Update environment variables if needed</li> </ul>"},{"location":"faq/#support","title":"Support","text":""},{"location":"faq/#where-can-i-get-help","title":"Where can I get help?","text":"<p>For Hosted Service Users: Contact support through the ministry-mapper.com website.</p> <p>For All Users:</p> <ol> <li>Documentation: Check this documentation site, including Getting Started, User Guide, and other guides</li> <li>GitHub Issues: Search for existing issues or create a new one at the ministry-mapper-v2 repository</li> <li>GitHub Discussions: Ask questions and share ideas</li> <li>Code Review: Read the code and comments for implementation details (developers)</li> </ol>"},{"location":"faq/#is-there-commercial-support","title":"Is there commercial support?","text":"<p>Hosted Service: Professional support is available through ministry-mapper.com.</p> <p>Self-Hosting: No official commercial support is available for self-hosted instances. This is a volunteer-maintained open-source project. However:</p> <ul> <li>Community support via GitHub</li> <li>Comprehensive documentation</li> <li>You may hire independent developers for customization</li> </ul>"},{"location":"faq/#how-often-is-the-app-updated","title":"How often is the app updated?","text":"<p>Hosted Service: Updates are applied automatically as they become available.</p> <p>Self-Hosting: Updates depend on volunteer availability. Check:</p> <ul> <li>CHANGELOG.md for version history</li> <li>GitHub Releases for release notes</li> <li>Commit history for recent changes</li> </ul>"},{"location":"faq/#can-i-customize-ministry-mapper-for-my-needs","title":"Can I customize Ministry Mapper for my needs?","text":"<p>Yes! It's open source, so you can:</p> <ul> <li>Modify the UI (colors, layout, branding)</li> <li>Add custom features</li> <li>Change workflows</li> <li>Integrate with other systems</li> </ul> <p>Requirements:</p> <ul> <li>Knowledge of React 19, TypeScript, and PocketBase</li> <li>Understanding of the codebase (see CLAUDE.md in the repository)</li> <li>Proper testing of your changes</li> <li>Consider contributing improvements back to the project</li> </ul> <p>Note: Customizations require self-hosting. The hosted service uses the standard version.</p>"},{"location":"faq/#still-have-questions","title":"Still Have Questions?","text":"<ol> <li>Read the Documentation: </li> <li>Getting Started Guide</li> <li>User Guide</li> <li>Self-Hosting Guide (if self-hosting)</li> <li>Backend Setup Guide (if self-hosting)</li> <li>Frontend Setup Guide (if self-hosting)</li> <li>Search GitHub Issues</li> <li>Ask in GitHub Discussions</li> <li>Contact Support (for hosted service users)</li> <li>Open a new issue with your question</li> </ol> <p>Remember: Ministry Mapper is open-source and maintained by volunteers. Be patient and respectful when asking for help!</p>"},{"location":"frontend-setup/","title":"Frontend Setup Guide","text":"<p>Self-Hosting Not Recommended</p> <p>This guide is for advanced users who want to self-host Ministry Mapper. We don't encourage self-hosting due to the technical complexity, maintenance burden, and security responsibilities involved.</p> <p>Most users should: Use our hosted service at ministry-mapper.com</p> <p>Looking for User Documentation?</p> <p>If you're a regular user trying to learn how to use Ministry Mapper, see the Getting Started or User Guide instead.</p>"},{"location":"frontend-setup/#overview","title":"Overview","text":"<p>The Ministry Mapper frontend (ministry-mapper-v2) is a React-based web application that provides:</p> <ul> <li>User authentication and account management</li> <li>Interactive territory management interface</li> <li>Google Maps integration</li> <li>Real-time data synchronization</li> <li>Mobile-responsive design</li> <li>Multi-language support (7 languages)</li> <li>Progressive Web App capabilities</li> </ul> <p>This guide assumes you have: - Experience with Node.js and npm - Understanding of environment variables - Familiarity with static site deployment - Knowledge of web application security</p> <p>For complete self-hosting instructions, see the Self-Hosting Guide.</p>"},{"location":"frontend-setup/#quick-reference","title":"Quick Reference","text":"<p>This page provides a quick reference for frontend configuration. For complete setup instructions, see the Self-Hosting Guide.</p>"},{"location":"frontend-setup/#quick-reference_1","title":"Quick Reference","text":"<p>This page provides a quick reference for frontend configuration. For complete setup instructions, see the Self-Hosting Guide.</p>"},{"location":"frontend-setup/#technology-stack","title":"Technology Stack","text":"<ul> <li>React 19: Modern UI library</li> <li>TypeScript: Type-safe JavaScript</li> <li>Vite 7: Fast build tool and dev server</li> <li>Bootstrap 5: Responsive CSS framework</li> <li>Google Maps API: Interactive mapping</li> <li>PocketBase SDK: Backend connection</li> <li>Sentry: Error tracking</li> <li>i18next: Multi-language support</li> <li>Vite PWA: Progressive Web App features</li> </ul> <p>Complete Setup Instructions</p> <p>The sections below provide a technical reference for frontend configuration. For step-by-step setup instructions with deployment options and troubleshooting, please see the Self-Hosting Guide.</p>"},{"location":"frontend-setup/#environment-variables","title":"Environment Variables","text":"<p>Create a <code>.env</code> file in the root directory with these settings:</p>"},{"location":"frontend-setup/#required-variables","title":"Required Variables","text":"<pre><code># System Environment - specifies the deployment environment\nVITE_SYSTEM_ENVIRONMENT=production\n\n# Version - automatically uses package.json version\nVITE_VERSION=$npm_package_version\n\n# Google Maps API Key - required for map functionality\nVITE_GOOGLE_MAPS_API_KEY=your_google_maps_api_key_here\n\n# PocketBase Backend URL - no trailing slash\nVITE_POCKETBASE_URL=https://your-backend-url.com\n\n# Legal Pages - required for production\nVITE_PRIVACY_URL=https://your-site.com/privacy\nVITE_TERMS_URL=https://your-site.com/terms\nVITE_ABOUT_URL=https://your-site.com/about\n\n# Error Tracking - optional but recommended\nVITE_SENTRY_DSN=https://your_sentry_dsn@sentry.io/123456\n</code></pre>"},{"location":"frontend-setup/#variable-details","title":"Variable Details","text":""},{"location":"frontend-setup/#vite_system_environment","title":"VITE_SYSTEM_ENVIRONMENT","text":"<ul> <li>Purpose: Determines which environment the app is running in</li> <li>Values:</li> <li><code>local</code> - Development on your local machine</li> <li><code>production</code> - Live deployment</li> <li>Effect: Affects Sentry error tracking configuration and logging</li> </ul>"},{"location":"frontend-setup/#vite_version","title":"VITE_VERSION","text":"<ul> <li>Purpose: Tracks application version in error reports</li> <li>Value: <code>$npm_package_version</code> (automatically reads from package.json)</li> <li>Current Version: 1.9.1 (as of package.json)</li> <li>Effect: Shown in Sentry reports and helps track which version has issues</li> </ul>"},{"location":"frontend-setup/#vite_google_maps_api_key","title":"VITE_GOOGLE_MAPS_API_KEY","text":"<ul> <li>Purpose: Enables Google Maps functionality</li> <li>Get It From: Google Cloud Console</li> <li>Required APIs:</li> <li>Maps JavaScript API</li> <li>Geocoding API (optional, for address lookup)</li> <li>Cost: Google Maps has free tier with generous limits</li> <li>Important: Restrict the API key to your domain in Google Cloud Console</li> </ul>"},{"location":"frontend-setup/#vite_pocketbase_url","title":"VITE_POCKETBASE_URL","text":"<ul> <li>Purpose: URL of your PocketBase backend server</li> <li>Format: Full URL without trailing slash</li> <li>Example: <code>https://api.ministry-mapper.com</code> or <code>http://localhost:8090</code> for local</li> <li>Important: Must be accessible from wherever the frontend is deployed</li> </ul>"},{"location":"frontend-setup/#vite_privacy_url","title":"VITE_PRIVACY_URL","text":"<ul> <li>Purpose: Link to your privacy policy page</li> <li>Required: Yes, for legal compliance (GDPR, CCPA, etc.)</li> <li>Example: <code>https://ministry-mapper.com/privacy</code></li> </ul>"},{"location":"frontend-setup/#vite_terms_url","title":"VITE_TERMS_URL","text":"<ul> <li>Purpose: Link to your terms of service page</li> <li>Required: Yes, for legal compliance</li> <li>Example: <code>https://ministry-mapper.com/terms</code></li> </ul>"},{"location":"frontend-setup/#vite_about_url","title":"VITE_ABOUT_URL","text":"<ul> <li>Purpose: Link to information about your Ministry Mapper instance</li> <li>Required: No, but recommended</li> <li>Example: <code>https://ministry-mapper.com/about</code></li> </ul>"},{"location":"frontend-setup/#vite_sentry_dsn","title":"VITE_SENTRY_DSN","text":"<ul> <li>Purpose: Sends JavaScript errors to Sentry for monitoring</li> <li>Get It From: sentry.io (free tier available)</li> <li>Required: No, but highly recommended for production</li> <li>Benefits: Track errors, monitor performance, get notified of issues</li> <li>Note: Only active when VITE_SYSTEM_ENVIRONMENT is \"production\"</li> </ul>"},{"location":"frontend-setup/#local-development-setup","title":"Local Development Setup","text":""},{"location":"frontend-setup/#prerequisites","title":"Prerequisites","text":"<p>You need Node.js version 22 or higher:</p> <pre><code># Check your Node.js version\nnode --version\n</code></pre> <p>If you don't have Node.js 22+, download it from: nodejs.org</p>"},{"location":"frontend-setup/#setup-steps","title":"Setup Steps","text":""},{"location":"frontend-setup/#1-clone-the-repository","title":"1. Clone the Repository","text":"<pre><code>git clone https://github.com/rimorin/ministry-mapper-v2.git\ncd ministry-mapper-v2\n</code></pre>"},{"location":"frontend-setup/#2-install-dependencies","title":"2. Install Dependencies","text":"<pre><code>npm install\n</code></pre> <p>This downloads all required packages. May take a few minutes depending on your internet connection.</p>"},{"location":"frontend-setup/#3-create-environment-file","title":"3. Create Environment File","text":"<pre><code># Copy the example environment file\ncp .env.example .env\n</code></pre> <p>Edit <code>.env</code> with your settings:</p> <pre><code>VITE_SYSTEM_ENVIRONMENT=local\nVITE_VERSION=$npm_package_version\nVITE_GOOGLE_MAPS_API_KEY=your_google_maps_key_here\nVITE_POCKETBASE_URL=http://localhost:8090\nVITE_PRIVACY_URL=http://localhost:3000/privacy\nVITE_TERMS_URL=http://localhost:3000/terms\nVITE_ABOUT_URL=http://localhost:3000/about\nVITE_SENTRY_DSN=\n</code></pre> <p>Note: You'll need a PocketBase backend running on port 8090. See the ministry-mapper-be repository for backend setup.</p>"},{"location":"frontend-setup/#4-start-development-server","title":"4. Start Development Server","text":"<pre><code>npm start\n</code></pre> <p>The app will open at <code>http://localhost:3000</code> (port 3000 is configured in vite.config.js).</p>"},{"location":"frontend-setup/#development-features","title":"Development Features","text":"<ul> <li>Hot Module Replacement (HMR): Changes appear instantly without full page reload</li> <li>TypeScript Checking: Errors show in terminal and browser console</li> <li>Source Maps: Debugging is easier with original source code references</li> <li>Fast Refresh: React components update without losing state</li> </ul>"},{"location":"frontend-setup/#development-commands","title":"Development Commands","text":"<pre><code># Start development server (port 3000)\nnpm start\n\n# Run tests with Vitest\nnpm test\n\n# Check code formatting\nnpm run prettier\n\n# Auto-fix formatting issues\nnpm run prettier:fix\n\n# Build for production\nnpm run build\n\n# Preview production build locally\nnpm run serve\n</code></pre>"},{"location":"frontend-setup/#code-quality-tools","title":"Code Quality Tools","text":"<p>Prettier (code formatting):</p> <ul> <li>Configured in <code>.prettierrc</code></li> <li>Automatically formats on commit via Husky</li> <li>Run manually with <code>npm run prettier:fix</code></li> </ul> <p>ESLint (code linting):</p> <ul> <li>Configured in <code>eslint.config.mjs</code></li> <li>React and TypeScript rules enabled</li> <li>Checks for common errors and code quality issues</li> </ul> <p>Husky (git hooks):</p> <ul> <li>Runs Prettier on staged files before commit</li> <li>Ensures consistent code formatting</li> <li>Validates commit messages with commitlint</li> </ul>"},{"location":"frontend-setup/#production-deployment","title":"Production Deployment","text":""},{"location":"frontend-setup/#building-for-production","title":"Building for Production","text":"<pre><code># Build optimized production files\nnpm run build\n</code></pre> <p>What happens during build:</p> <ul> <li>TypeScript compiles to JavaScript</li> <li>React code is optimized and minified</li> <li>CSS is processed and minified</li> <li>Source maps are generated</li> <li>Code is split into chunks for faster loading</li> <li>Output goes to <code>build/</code> directory</li> <li>Service worker is generated for PWA support</li> </ul> <p>Build Output:</p> <ul> <li><code>build/index.html</code> - Main HTML file</li> <li><code>build/assets/</code> - JavaScript, CSS, and other assets</li> <li>Filenames include content hashes for caching</li> <li>Total size typically under 1MB (excluding external dependencies)</li> </ul>"},{"location":"frontend-setup/#deployment-options","title":"Deployment Options","text":"<p>Ministry Mapper frontend is a static web application. You can deploy it to any static hosting service.</p>"},{"location":"frontend-setup/#option-1-vercel-recommended","title":"Option 1: Vercel (Recommended)","text":"<p>Fast, free tier, automatic deployments.</p> <p>Setup:</p> <ol> <li>Create account at vercel.com</li> <li>Click \"New Project\"</li> <li>Import your GitHub repository</li> <li>Configure:</li> <li>Framework Preset: Vite</li> <li>Build Command: <code>npm run build</code></li> <li>Output Directory: <code>build</code></li> <li>Install Command: <code>npm install</code></li> <li>Add environment variables in Vercel dashboard</li> <li>Deploy</li> </ol> <p>Vercel Features:</p> <ul> <li>Automatic deployments on git push</li> <li>Preview deployments for pull requests</li> <li>Custom domains</li> <li>HTTPS by default</li> <li>Global CDN</li> <li>Free for personal projects</li> </ul>"},{"location":"frontend-setup/#option-2-netlify","title":"Option 2: Netlify","text":"<p>Simple deployment with great features.</p> <p>Setup:</p> <ol> <li>Create account at netlify.com</li> <li>\"Add new site\" \u2192 \"Import an existing project\"</li> <li>Connect GitHub repository</li> <li>Build settings:</li> <li>Build Command: <code>npm run build</code></li> <li>Publish Directory: <code>build</code></li> <li>Add environment variables</li> <li>Deploy</li> </ol> <p>Netlify Features:</p> <ul> <li>Automatic deployments</li> <li>Form handling</li> <li>Serverless functions (if needed)</li> <li>Custom domains</li> <li>HTTPS by default</li> </ul>"},{"location":"frontend-setup/#option-3-cloudflare-pages","title":"Option 3: Cloudflare Pages","text":"<p>Fast CDN with generous free tier.</p> <p>Setup:</p> <ol> <li>Create account at cloudflare.com</li> <li>Go to Pages \u2192 \"Create a project\"</li> <li>Connect GitHub repository</li> <li>Build settings:</li> <li>Framework preset: Vite</li> <li>Build command: <code>npm run build</code></li> <li>Build output directory: <code>build</code></li> <li>Add environment variables</li> <li>Deploy</li> </ol> <p>Cloudflare Features:</p> <ul> <li>Global CDN network</li> <li>DDoS protection</li> <li>Analytics</li> <li>Web Analytics without client-side tracking</li> </ul>"},{"location":"frontend-setup/#option-4-aws-s3-cloudfront","title":"Option 4: AWS S3 + CloudFront","text":"<p>More control, good for large deployments.</p> <p>Setup:</p> <ol> <li>Create S3 bucket</li> <li>Enable static website hosting</li> <li>Upload <code>build/</code> contents</li> <li>Create CloudFront distribution</li> <li>Configure custom domain</li> <li>Set up SSL certificate</li> </ol> <p>AWS Considerations:</p> <ul> <li>More complex setup</li> <li>Pay per usage (usually very cheap)</li> <li>More configuration options</li> <li>Good for enterprise deployments</li> </ul>"},{"location":"frontend-setup/#option-5-self-hosted","title":"Option 5: Self-Hosted","text":"<p>Host on your own server.</p> <p>Using Nginx:</p> <pre><code>server {\n    listen 80;\n    server_name your-domain.com;\n    root /var/www/ministry-mapper/build;\n    index index.html;\n\n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n\n    # Enable gzip compression\n    gzip on;\n    gzip_types text/plain text/css application/json application/javascript text/xml application/xml;\n\n    # Cache static assets\n    location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2)$ {\n        expires 1y;\n        add_header Cache-Control \"public, immutable\";\n    }\n}\n</code></pre> <p>Using Apache:</p> <pre><code>&lt;VirtualHost *:80&gt;\n    ServerName your-domain.com\n    DocumentRoot /var/www/ministry-mapper/build\n\n    &lt;Directory /var/www/ministry-mapper/build&gt;\n        Options -Indexes +FollowSymLinks\n        AllowOverride All\n        Require all granted\n\n        # Enable React Router\n        RewriteEngine On\n        RewriteBase /\n        RewriteRule ^index\\.html$ - [L]\n        RewriteCond %{REQUEST_FILENAME} !-f\n        RewriteCond %{REQUEST_FILENAME} !-d\n        RewriteRule . /index.html [L]\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre> <p>Important for Self-Hosting:</p> <ul> <li>Serve over HTTPS (required for PWA features)</li> <li>Configure proper CORS headers if backend is on different domain</li> <li>Set up proper caching headers for static assets</li> <li>Ensure SPA routing works (all routes serve index.html)</li> </ul>"},{"location":"frontend-setup/#environment-variables-in-deployment","title":"Environment Variables in Deployment","text":"<p>Important: Environment variables must be set during build time, not runtime, because Vite injects them at build time.</p> <p>For Vercel/Netlify/Cloudflare:</p> <ul> <li>Add environment variables in the platform's dashboard</li> <li>They'll be available during the build process</li> </ul> <p>For Self-Hosted:</p> <ul> <li>Set environment variables before running <code>npm run build</code></li> <li>Or create <code>.env.production</code> file with your settings</li> </ul>"},{"location":"frontend-setup/#setting-up-google-maps-api","title":"Setting Up Google Maps API","text":""},{"location":"frontend-setup/#1-create-google-cloud-project","title":"1. Create Google Cloud Project","text":"<ol> <li>Go to Google Cloud Console</li> <li>Create a new project or select existing one</li> <li>Name it (e.g., \"Ministry Mapper\")</li> </ol>"},{"location":"frontend-setup/#2-enable-required-apis","title":"2. Enable Required APIs","text":"<p>Navigate to \"APIs &amp; Services\" \u2192 \"Library\":</p> <p>Required API:</p> <ul> <li>Maps JavaScript API</li> </ul> <p>Recommended (if using geocoding features):</p> <ul> <li>Geocoding API</li> </ul> <p>Not Required:</p> <ul> <li>Places API (not used in Ministry Mapper v2)</li> <li>Directions API (we use external links to Google Maps)</li> </ul>"},{"location":"frontend-setup/#3-create-api-key","title":"3. Create API Key","text":"<ol> <li>Go to \"APIs &amp; Services\" \u2192 \"Credentials\"</li> <li>Click \"Create Credentials\" \u2192 \"API Key\"</li> <li>Copy the API key</li> </ol>"},{"location":"frontend-setup/#4-restrict-your-api-key-important-for-security","title":"4. Restrict Your API Key (Important for Security)","text":"<p>Application Restrictions:</p> <ul> <li>Choose \"HTTP referrers (websites)\"</li> <li>Add your domains:</li> <li>For production: <code>your-domain.com/*</code>, <code>www.your-domain.com/*</code></li> <li>For local development: <code>localhost:3000/*</code></li> </ul> <p>API Restrictions:</p> <ul> <li>Choose \"Restrict key\"</li> <li>Select only: Maps JavaScript API (and Geocoding API if using)</li> <li>This prevents unauthorized use of your key</li> </ul>"},{"location":"frontend-setup/#5-set-up-billing","title":"5. Set Up Billing","text":"<p>Google requires a billing account:</p> <ul> <li>Free tier: $200 credit per month</li> <li>Additional usage: $7 per 1,000 map loads after free tier</li> <li>Most small congregations stay within free tier</li> <li>Enable billing in Google Cloud Console</li> </ul>"},{"location":"frontend-setup/#6-add-to-environment","title":"6. Add to Environment","text":"<p>Add your API key to <code>.env</code>:</p> <pre><code>VITE_GOOGLE_MAPS_API_KEY=your_actual_api_key_here\n</code></pre>"},{"location":"frontend-setup/#setting-up-sentry-optional-but-recommended","title":"Setting Up Sentry (Optional but Recommended)","text":"<p>Sentry monitors JavaScript errors and performance.</p>"},{"location":"frontend-setup/#1-create-sentry-account","title":"1. Create Sentry Account","text":"<ol> <li>Go to sentry.io</li> <li>Sign up (generous free tier available)</li> <li>Create a new project</li> <li>Choose platform: \"React\"</li> </ol>"},{"location":"frontend-setup/#2-get-your-dsn","title":"2. Get Your DSN","text":"<ol> <li>After creating project, you'll see the DSN</li> <li>Or go to Settings \u2192 Projects \u2192 [Your Project] \u2192 Client Keys (DSN)</li> <li>Copy the DSN URL</li> </ol>"},{"location":"frontend-setup/#3-add-to-environment","title":"3. Add to Environment","text":"<pre><code>VITE_SENTRY_DSN=https://your_key@your_org.sentry.io/your_project_id\n</code></pre> <p>Note: Sentry is only active when <code>VITE_SYSTEM_ENVIRONMENT</code> is set to <code>production</code>.</p>"},{"location":"frontend-setup/#4-configure-sentry-optional","title":"4. Configure Sentry (Optional)","text":"<p>Source Maps: The build process automatically generates source maps, which help debug minified production code.</p> <p>Alerts: Set up in Sentry dashboard:</p> <ul> <li>Email notifications for new issues</li> <li>Slack/Discord integration</li> <li>Custom alert rules for critical errors</li> <li>Release tracking</li> </ul>"},{"location":"frontend-setup/#multi-language-support","title":"Multi-Language Support","text":"<p>Ministry Mapper includes 7 languages out of the box.</p>"},{"location":"frontend-setup/#supported-languages","title":"Supported Languages","text":"<ul> <li>English (<code>en</code>)</li> <li>Japanese (<code>ja</code> - \u65e5\u672c\u8a9e)</li> <li>Korean (<code>ko</code> - \ud55c\uad6d\uc5b4)</li> <li>Chinese (<code>zh</code> - \u4e2d\u6587)</li> <li>Indonesian (<code>id</code> - Bahasa Indonesia)</li> <li>Malay (<code>ms</code> - Bahasa Melayu)</li> <li>Tamil (<code>ta</code> - \u0ba4\u0bae\u0bbf\u0bb4\u0bcd)</li> </ul>"},{"location":"frontend-setup/#how-language-detection-works","title":"How Language Detection Works","text":"<ul> <li>Uses <code>i18next-browser-languagedetector</code></li> <li>Automatically detects from browser settings</li> <li>Falls back to English if browser language not supported</li> <li>Users cannot manually switch language (uses browser setting)</li> </ul>"},{"location":"frontend-setup/#adding-a-new-language","title":"Adding a New Language","text":"<ol> <li> <p>Create Translation File</p> </li> <li> <p>Go to <code>src/i18n/locales/</code></p> </li> <li>Create new file: <code>[language-code].json</code> (e.g., <code>fr.json</code> for French)</li> <li> <p>Copy structure from <code>en.json</code></p> </li> <li> <p>Translate All Strings</p> </li> <li> <p>Translate all key-value pairs</p> </li> <li>Keep the same JSON structure</li> <li> <p>Maintain placeholder variables like <code>{{variable}}</code></p> </li> <li> <p>Register Language</p> </li> <li>Edit <code>src/i18n/index.ts</code></li> <li>Import your translation file</li> <li>Add to resources object</li> </ol> <p>Example for French:</p> <pre><code>import fr from './locales/fr.json';\n\nresources: {\n  en: { translation: en },\n  fr: { translation: fr },\n  // ... other languages\n}\n</code></pre>"},{"location":"frontend-setup/#progressive-web-app-pwa","title":"Progressive Web App (PWA)","text":"<p>Ministry Mapper includes PWA support via Vite PWA plugin.</p>"},{"location":"frontend-setup/#pwa-features","title":"PWA Features","text":"<ul> <li>Installable: Can be installed on mobile/desktop home screen</li> <li>Offline Assets: Static files are cached for faster loading</li> <li>Service Worker: Automatically generated and registered</li> <li>Cache Strategy: StaleWhileRevalidate for external assets, CacheFirst for fonts</li> </ul>"},{"location":"frontend-setup/#pwa-configuration","title":"PWA Configuration","text":"<p>Configuration in <code>vite.config.js</code>:</p> <pre><code>VitePWA({\n  registerType: \"autoUpdate\", // Auto-update service worker\n  manifest: false, // No manifest (can be added if needed)\n  workbox: {\n    globPatterns: [\"**/*.{js,css,html,ico,png,svg,woff2}\"],\n    skipWaiting: true, // Activate new service worker immediately\n    clientsClaim: true, // Take control of clients immediately\n    cleanupOutdatedCaches: true, // Remove old caches\n  },\n});\n</code></pre>"},{"location":"frontend-setup/#caching-strategy","title":"Caching Strategy","text":"<p>External Assets (e.g., from assets.ministry-mapper.com):</p> <ul> <li>Strategy: StaleWhileRevalidate</li> <li>Cache name: \"external-assets\"</li> <li>Expiration: 7 days, max 50 entries</li> </ul> <p>Fonts:</p> <ul> <li>Strategy: CacheFirst</li> <li>Cache name: \"fonts\"</li> <li>Expiration: 30 days, max 30 entries</li> </ul> <p>Note: The app requires internet for data operations (PocketBase connection). Only static assets are cached offline.</p>"},{"location":"frontend-setup/#testing-your-deployment","title":"Testing Your Deployment","text":""},{"location":"frontend-setup/#functionality-checklist","title":"Functionality Checklist","text":"<ul> <li>[ ] Homepage loads correctly</li> <li>[ ] Sign up page works</li> <li>[ ] Email verification works</li> <li>[ ] Login page works</li> <li>[ ] OTP authentication works (if enabled)</li> <li>[ ] Password reset works</li> <li>[ ] Territory selector displays (for conductors/admins)</li> <li>[ ] Google Maps loads and displays correctly</li> <li>[ ] Can view territories</li> <li>[ ] Can update address status</li> <li>[ ] Assignment links work</li> <li>[ ] Links expire correctly</li> <li>[ ] Mobile view is responsive</li> <li>[ ] Language detection works</li> <li>[ ] All modals open and close properly</li> </ul>"},{"location":"frontend-setup/#performance-checks","title":"Performance Checks","text":"<ul> <li>[ ] Initial page load under 3 seconds</li> <li>[ ] Lighthouse score &gt; 90</li> <li>[ ] No console errors</li> <li>[ ] Images load quickly</li> <li>[ ] Maps are responsive</li> <li>[ ] Smooth scrolling and navigation</li> </ul>"},{"location":"frontend-setup/#security-checks","title":"Security Checks","text":"<ul> <li>[ ] HTTPS is enforced (no HTTP access)</li> <li>[ ] Privacy policy link works</li> <li>[ ] Terms of service link works</li> <li>[ ] API keys not exposed in browser code</li> <li>[ ] CORS configured correctly for backend</li> <li>[ ] PocketBase connection is secure</li> </ul>"},{"location":"frontend-setup/#browser-testing","title":"Browser Testing","text":"<p>Test on multiple browsers:</p> <ul> <li>[ ] Chrome/Chromium</li> <li>[ ] Firefox</li> <li>[ ] Safari (macOS/iOS)</li> <li>[ ] Edge</li> <li>[ ] Mobile browsers</li> </ul>"},{"location":"frontend-setup/#troubleshooting","title":"Troubleshooting","text":""},{"location":"frontend-setup/#google-maps-not-loading","title":"Google Maps Not Loading","text":"<p>Problem: Gray map, error messages, or \"For development purposes only\" watermark</p> <p>Solutions:</p> <ul> <li>Check if <code>VITE_GOOGLE_MAPS_API_KEY</code> is correct in <code>.env</code></li> <li>Verify Maps JavaScript API is enabled in Google Cloud Console</li> <li>Check API key restrictions match your domain</li> <li>Look for errors in browser console (F12 \u2192 Console tab)</li> <li>Confirm billing is enabled in Google Cloud Console</li> <li>Ensure API key hasn't exceeded quota</li> </ul> <p>Common Error Messages:</p> <ul> <li>\"Google Maps API error: ApiNotActivatedMapError\" \u2192 Enable Maps JavaScript API</li> <li>\"RefererNotAllowedMapError\" \u2192 Add your domain to API key restrictions</li> <li>\"For development purposes only\" watermark \u2192 Billing not enabled</li> </ul>"},{"location":"frontend-setup/#backend-connection-failed","title":"Backend Connection Failed","text":"<p>Problem: \"Cannot connect to server\" or \"Network Error\"</p> <p>Solutions:</p> <ul> <li>Verify <code>VITE_POCKETBASE_URL</code> is correct (no trailing slash)</li> <li>Check if PocketBase backend is running</li> <li>Test backend URL directly in browser</li> <li>Check CORS settings in PocketBase (must allow your frontend domain)</li> <li>Open browser DevTools \u2192 Network tab to see exact error</li> <li>Ensure backend is accessible from your deployment location</li> </ul>"},{"location":"frontend-setup/#build-errors","title":"Build Errors","text":"<p>Problem: <code>npm run build</code> fails</p> <p>Solutions:</p> <ul> <li>Ensure all environment variables are set correctly</li> <li>Run <code>npm install</code> to refresh dependencies</li> <li>Delete <code>node_modules</code> and reinstall: <code>rm -rf node_modules &amp;&amp; npm install</code></li> <li>Check Node.js version: <code>node --version</code> (needs 22+)</li> <li>Check for TypeScript errors: Look at specific error messages</li> <li>Try <code>npm run prettier:fix</code> to fix formatting issues</li> <li>Clear Vite cache: <code>rm -rf node_modules/.vite</code></li> </ul>"},{"location":"frontend-setup/#typescript-errors","title":"TypeScript Errors","text":"<p>Problem: Type errors during build</p> <p>Solutions:</p> <ul> <li>Check <code>src/utils/interface.ts</code> for type definitions</li> <li>Ensure imports are correct</li> <li>Run <code>npx tsc --noEmit</code> to see all type errors</li> <li>Verify all dependencies are installed</li> </ul>"},{"location":"frontend-setup/#slow-performance","title":"Slow Performance","text":"<p>Problem: App is slow or laggy</p> <p>Solutions:</p> <ul> <li>Check internet connection speed</li> <li>Clear browser cache and reload</li> <li>Ensure PocketBase backend is responding quickly</li> <li>Check browser console for JavaScript errors</li> <li>Test on different device/browser to isolate issue</li> <li>Check Lighthouse performance score</li> <li>Verify service worker is working: DevTools \u2192 Application \u2192 Service Workers</li> </ul>"},{"location":"frontend-setup/#pwa-installation-issues","title":"PWA Installation Issues","text":"<p>Problem: \"Add to Home Screen\" doesn't appear</p> <p>Solutions:</p> <ul> <li>Must be served over HTTPS</li> <li>Check service worker registration in DevTools</li> <li>Verify PWA requirements met (manifest, service worker, etc.)</li> <li>Try different browser (Safari, Chrome have different PWA support)</li> </ul>"},{"location":"frontend-setup/#real-time-updates-not-working","title":"Real-time Updates Not Working","text":"<p>Problem: Changes don't appear for other users</p> <p>Solutions:</p> <ul> <li>Verify PocketBase realtime subscriptions are working</li> <li>Check browser console for WebSocket errors</li> <li>Ensure backend WebSocket endpoint is accessible</li> <li>Check if multiple users are actually viewing the same territory</li> <li>Refresh the page to force reconnection</li> </ul>"},{"location":"frontend-setup/#maintenance","title":"Maintenance","text":""},{"location":"frontend-setup/#keeping-dependencies-updated","title":"Keeping Dependencies Updated","text":"<pre><code># Pull latest changes from repository\ngit pull origin main\n\n# Install updated dependencies\nnpm install\n\n# Check for security vulnerabilities\nnpm audit\n\n# Automatically fix security issues (when possible)\nnpm audit fix\n\n# Check for outdated packages\nnpm outdated\n\n# Update specific package\nnpm update package-name\n</code></pre>"},{"location":"frontend-setup/#monitoring","title":"Monitoring","text":"<p>Sentry Dashboard:</p> <ul> <li>Check weekly for new errors</li> <li>Review error trends</li> <li>Fix critical issues promptly</li> <li>Set up alerts for high-priority errors</li> </ul> <p>Google Cloud Console:</p> <ul> <li>Monitor API usage to stay within quota</li> <li>Check for unusual spikes in usage</li> <li>Review billing alerts</li> <li>Ensure APIs remain enabled</li> </ul> <p>Performance:</p> <ul> <li>Run Lighthouse audits periodically</li> <li>Monitor page load times</li> <li>Check Core Web Vitals</li> <li>Test on slow connections</li> </ul> <p>User Feedback:</p> <ul> <li>Listen to congregation members</li> <li>Track common issues</li> <li>Document solutions</li> <li>Update documentation as needed</li> </ul>"},{"location":"frontend-setup/#version-updates","title":"Version Updates","text":"<p>Ministry Mapper uses semantic versioning:</p> <ul> <li>Major version (x.0.0): Breaking changes</li> <li>Minor version (1.x.0): New features</li> <li>Patch version (1.9.x): Bug fixes</li> </ul>"},{"location":"frontend-setup/#next-steps","title":"Next Steps","text":"<p>For Users:</p> <ul> <li>Read the User Guide to learn how to use the application</li> </ul> <p>For Administrators:</p> <ul> <li>Set up the PocketBase backend (see ministry-mapper-be repository)</li> <li>Configure congregation settings</li> <li>Invite users and assign roles</li> <li>Create territories and add addresses</li> </ul>"},{"location":"getting-started/","title":"Getting Started with Ministry Mapper","text":""},{"location":"getting-started/#overview","title":"Overview","text":"<p>Ministry Mapper is a web-based territory management system that helps congregations organize their field ministry work digitally. This guide will help you get started with using Ministry Mapper.</p>"},{"location":"getting-started/#how-to-access-ministry-mapper","title":"How to Access Ministry Mapper","text":""},{"location":"getting-started/#option-1-use-the-hosted-service-recommended","title":"Option 1: Use the Hosted Service (Recommended)","text":"<p>The easiest way to use Ministry Mapper is through our hosted service:</p> <p>ministry-mapper.com</p>"},{"location":"getting-started/#getting-started-with-the-hosted-service","title":"Getting Started with the Hosted Service","text":"<ol> <li>Visit ministry-mapper.com</li> <li>Create an account using the sign-up page</li> <li>Verify your email by clicking the link sent to your inbox</li> <li>Contact your administrator to get proper permissions for your role</li> </ol> <p>Benefits of the hosted service: - No technical setup required - Professional support available - Automatic updates and backups - Better security and reliability - No maintenance burden - Compliance assistance</p> <p>That's it! You can now start using Ministry Mapper.</p>"},{"location":"getting-started/#option-2-self-hosting-not-recommended","title":"Option 2: Self-Hosting (Not Recommended)","text":"<p>Self-hosting requires significant technical expertise and ongoing maintenance. We don't encourage this option unless you have:</p> <ul> <li>Experienced system administrators or developers</li> <li>Resources for ongoing maintenance and security updates</li> <li>Understanding of privacy law compliance requirements</li> </ul> <p>If you still want to self-host, see the Self-Hosting Guide for detailed instructions.</p>"},{"location":"getting-started/#what-youll-need-as-a-user","title":"What You'll Need as a User","text":"<p>To use Ministry Mapper effectively, you need:</p> <ul> <li>Internet Connection - Required for real-time updates</li> <li>Modern Web Browser - Chrome, Firefox, Safari, or Edge</li> <li>Email Address - For account verification and notifications</li> <li>Mobile Device or Computer - Works on any device</li> </ul>"},{"location":"getting-started/#quick-start-guide","title":"Quick Start Guide","text":""},{"location":"getting-started/#for-new-users","title":"For New Users","text":"<ol> <li>Get Access</li> <li>Obtain the Ministry Mapper URL from your congregation</li> <li> <p>Or wait for the official hosted service (coming soon)</p> </li> <li> <p>Create Your Account</p> </li> <li>Click \"Sign Up\" on the login page</li> <li>Enter your email and create a strong password</li> <li>Check your email for the verification link</li> <li> <p>Click the link to verify your account</p> </li> <li> <p>Get Permissions</p> </li> <li>Contact your congregation's territory servant</li> <li> <p>They'll assign you the appropriate role:</p> <ul> <li>Publisher - View and update assigned territories</li> <li>Conductor - Assign territories and view all maps</li> <li>Administrator - Full management access</li> </ul> </li> <li> <p>Start Using Ministry Mapper</p> </li> <li>Log in with your credentials</li> <li>View your assigned territories (if any)</li> <li>Update address statuses as you work the territory</li> <li>See real-time updates from other publishers</li> </ol>"},{"location":"getting-started/#for-congregation-administrators","title":"For Congregation Administrators","text":"<p>If you're setting up Ministry Mapper for your congregation:</p> <ol> <li>Decide on Hosting</li> <li>Recommended: Wait for the official hosted service</li> <li> <p>Alternative: Self-host (see Self-Hosting Guide)</p> </li> <li> <p>Configure Your Congregation</p> </li> <li>Set up congregation details in the admin panel</li> <li>Create territories and maps</li> <li>Add addresses and boundaries</li> <li> <p>Configure options and preferences</p> </li> <li> <p>Invite Users</p> </li> <li>Share the Ministry Mapper URL with publishers</li> <li>Guide them through account creation</li> <li>Assign appropriate roles and permissions</li> <li> <p>Provide training on how to use the system</p> </li> <li> <p>Maintain the System</p> </li> <li>Monitor usage and performance</li> <li>Handle user support requests</li> <li>Keep data accurate and up-to-date</li> <li>Ensure privacy compliance</li> </ol>"},{"location":"getting-started/#understanding-user-roles","title":"Understanding User Roles","text":"<p>Ministry Mapper has three main user roles:</p>"},{"location":"getting-started/#publisher-basic-user","title":"Publisher (Basic User)","text":"<ul> <li>View assigned territories</li> <li>Update address status (not-home, do-not-call, etc.)</li> <li>Add notes to addresses</li> <li>Access via assignment links</li> <li>Cannot see other territories</li> </ul>"},{"location":"getting-started/#conductor-field-service-overseer","title":"Conductor (Field Service Overseer)","text":"<ul> <li>All publisher capabilities</li> <li>Assign territories to publishers</li> <li>View all territories in the congregation</li> <li>Generate assignment links</li> <li>Track territory usage</li> </ul>"},{"location":"getting-started/#administrator-territory-servant","title":"Administrator (Territory Servant)","text":"<ul> <li>All conductor capabilities</li> <li>Manage congregation settings</li> <li>Create and edit territories and maps</li> <li>Add/remove addresses</li> <li>Manage user permissions</li> <li>Access admin panel</li> <li>Configure integrations</li> </ul>"},{"location":"getting-started/#common-features","title":"Common Features","text":""},{"location":"getting-started/#viewing-territories","title":"Viewing Territories","text":"<ul> <li>Map View - See territory boundaries on Google Maps</li> <li>Address List - View all addresses in a territory</li> <li>Status Indicators - Color-coded address statuses</li> <li>Search - Find specific addresses quickly</li> <li>Filters - Show only certain types of addresses</li> </ul>"},{"location":"getting-started/#updating-addresses","title":"Updating Addresses","text":"<ul> <li>Status Change - Mark as not-home, interested, do-not-call, etc.</li> <li>Add Notes - Record important information</li> <li>Timestamp - Automatically tracks when changes were made</li> <li>History - See previous updates (admin only)</li> </ul>"},{"location":"getting-started/#assignment-links","title":"Assignment Links","text":"<ul> <li>Temporary Access - Share territory without creating accounts</li> <li>Expiration - Links expire after set time period</li> <li>Revocable - Administrators can cancel links anytime</li> <li>View-Only or Edit Access - Control what link users can do</li> </ul>"},{"location":"getting-started/#real-time-sync","title":"Real-Time Sync","text":"<ul> <li>Live Updates - See changes from other users instantly</li> <li>Collaboration - Multiple people can work together</li> <li>Conflict Prevention - Avoid working the same addresses</li> <li>Always Current - No need to refresh the page</li> </ul>"},{"location":"getting-started/#testing-your-setup","title":"Testing Your Setup","text":"<p>After getting access:</p> <ol> <li>Test Login</li> <li>Try logging in with your credentials</li> <li> <p>Verify you can access the main page</p> </li> <li> <p>Check Permissions</p> </li> <li>Ensure you see the features for your role</li> <li> <p>Try viewing territories (if assigned)</p> </li> <li> <p>Try Basic Features</p> </li> <li>View a territory map</li> <li>Update an address status (if you have permission)</li> <li>Add a note to an address</li> <li> <p>Check if changes save properly</p> </li> <li> <p>Verify Mobile Access</p> </li> <li>Open Ministry Mapper on your mobile device</li> <li>Check that everything displays correctly</li> <li>Try updating an address from mobile</li> </ol>"},{"location":"getting-started/#common-setup-issues","title":"Common Setup Issues","text":""},{"location":"getting-started/#cant-create-account","title":"Can't Create Account","text":"<p>Problem: Sign-up page shows errors</p> <p>Solutions: - Check that you're using a valid email address - Ensure password meets minimum requirements (usually 8+ characters) - Verify the email isn't already registered - Contact your administrator for help</p>"},{"location":"getting-started/#email-verification-not-received","title":"Email Verification Not Received","text":"<p>Problem: Verification email doesn't arrive</p> <p>Solutions: - Check spam/junk folder - Wait a few minutes (may be delayed) - Try resending verification email - Contact your administrator to verify your account manually</p>"},{"location":"getting-started/#cant-see-any-territories","title":"Can't See Any Territories","text":"<p>Problem: Empty page after logging in</p> <p>Solutions: - You may not have territories assigned yet - Contact your conductor or administrator - Wait for a territory to be assigned to you - Check that you're using the correct account</p>"},{"location":"getting-started/#google-maps-not-showing","title":"Google Maps Not Showing","text":"<p>Problem: Map area is gray or shows errors</p> <p>Solutions: - This is a configuration issue - contact your administrator - May be a Google Maps API issue - Try refreshing the page - Try a different browser</p>"},{"location":"getting-started/#cant-update-addresses","title":"Can't Update Addresses","text":"<p>Problem: Changes don't save or show errors</p> <p>Solutions: - Check your internet connection - Verify you have edit permissions - Make sure you're accessing via the correct link - Assignment link may have expired - Try refreshing and logging in again</p>"},{"location":"getting-started/#next-steps","title":"Next Steps","text":""},{"location":"getting-started/#for-regular-users","title":"For Regular Users","text":"<ul> <li>Read the User Guide to learn how to use all features</li> <li>Ask your conductor or administrator if you have questions</li> <li>Familiarize yourself with the territory mapping system</li> <li>Practice updating addresses in a test territory</li> </ul>"},{"location":"getting-started/#for-administrators","title":"For Administrators","text":"<p>If you're considering setting up Ministry Mapper for your congregation:</p> <ul> <li>Review the Self-Hosting Guide to understand requirements</li> <li>Consider waiting for the official hosted service (recommended)</li> <li>Understand privacy and legal compliance requirements</li> <li>Plan for ongoing maintenance and support</li> </ul>"},{"location":"getting-started/#learning-resources","title":"Learning Resources","text":"<ul> <li>User Guide: Detailed feature explanations for all user types</li> <li>FAQ: Common questions and answers</li> <li>Self-Hosting Guide: Technical setup instructions (advanced)</li> </ul>"},{"location":"getting-started/#getting-help","title":"Getting Help","text":""},{"location":"getting-started/#for-end-users","title":"For End Users","text":"<p>If you're using Ministry Mapper and need help:</p> <ol> <li>Contact Your Administrator - They know your specific setup</li> <li>Check the FAQ - Common questions are answered there</li> <li>Read the User Guide - Comprehensive feature documentation</li> <li>Ask Your Conductor - They can provide training and support</li> </ol>"},{"location":"getting-started/#for-administrators_1","title":"For Administrators","text":"<p>If you're setting up or managing a Ministry Mapper instance:</p> <ol> <li>Read the Documentation - Thoroughly review all guides</li> <li>Check GitHub Issues - See if others have similar problems</li> <li>Community Support - Limited community-based support available</li> <li>Consider Hosted Service - Professional support when available</li> </ol>"},{"location":"getting-started/#important-notes","title":"Important Notes","text":""},{"location":"getting-started/#privacy-and-data-protection","title":"Privacy and Data Protection","text":"<p>Ministry Mapper handles sensitive information (residential addresses). Ensure you:</p> <ul> <li>Comply with local privacy laws (GDPR, CCPA, etc.)</li> <li>Have appropriate privacy policies</li> <li>Train users on data protection</li> <li>Implement proper access controls</li> <li>Regular backup procedures</li> </ul>"},{"location":"getting-started/#internet-requirements","title":"Internet Requirements","text":"<p>Ministry Mapper requires internet connectivity to function:</p> <ul> <li>Works on WiFi or mobile data</li> <li>Real-time sync needs active connection</li> <li>Offline mode not currently supported</li> <li>Plan accordingly for field service</li> </ul>"},{"location":"getting-started/#google-maps-availability","title":"Google Maps Availability","text":"<p>Some countries restrict Google Maps:</p> <ul> <li>Check if Google Maps works in your area</li> <li>Test before full deployment</li> <li>Have backup territory maps if needed</li> </ul>"},{"location":"getting-started/#learning-curve","title":"Learning Curve","text":"<p>Moving from paper to digital takes adjustment:</p> <ul> <li>Provide training for all users</li> <li>Start with a pilot group</li> <li>Give time to adapt</li> <li>Offer ongoing support</li> <li>Be patient with those less tech-savvy</li> </ul>"},{"location":"privacy-policy/","title":"Privacy Policy","text":""},{"location":"privacy-policy/#introduction","title":"Introduction","text":"<p>This privacy policy will help you understand what information we, as the creators of Ministry Mapper, collect, how Ministry Mapper uses it, and what choices you have. We built the Ministry Mapper app as a free app. This SERVICE is provided at no cost and is intended for use as is. If you choose to use this Service, then you agree to the collection and use of information in relation with this policy. The Personal Information that we collect is used for providing and improving the Service. We will not use or share your information with anyone except as described in this Privacy Policy. The terms used in this Privacy Policy have the same meanings as in our Terms of Service, which is accessible via this documentation, unless otherwise defined in this Privacy Policy.</p>"},{"location":"privacy-policy/#information-collection-and-use","title":"Information Collection and Use","text":"<p>In order to use our Service, we may require you to provide us with your name and email address. The information that we request will be retained by us and used as described in this privacy policy. The app does use third party services that may collect information used to identify you.</p>"},{"location":"privacy-policy/#cookies","title":"Cookies","text":"<p>Cookies are files with a small amount of data that are commonly used as an anonymous unique identifier. These are sent to your browser from the website that you visit and are stored on your device\u2019s internal memory.</p> <p>This Service does use \"cookies\" to persist states across sessions. These cookies help to maintain a consistent user experience by remembering user's authentication state and preferences from session to session.</p> <p>While you do not have the option to refuse these cookies within our Service, you can always manage cookies through your browser settings. Please note that if you choose to disable cookies, you may not be able to use some portions of this Service as the state persistence might be affected.</p>"},{"location":"privacy-policy/#location-information","title":"Location Information","text":"<p>Some of our services utilize location information transmitted from users' devices. We use this information specifically for territory locating purposes within the scope of the designated service.</p>"},{"location":"privacy-policy/#device-information","title":"Device Information","text":"<p>We may collect certain information from your device. This information is used for troubleshooting, debugging, and performance monitoring purposes to improve our service and ensure a smooth user experience. Please note that this information does not include any personally identifiable information.</p>"},{"location":"privacy-policy/#service-providers","title":"Service Providers","text":"<p>We may employ third-party companies due to the following reasons:</p> <ul> <li>Authentication: To verify and manage user identities.</li> <li>Security: To protect our Service and users from threats and ensure a secure environment.</li> <li>Database Management: To store, organize, and manage user data.</li> <li>Cloud Infrastructures: To host our Service and manage data storage and retrieval.</li> </ul> <p>We want to inform users of this Service that these third parties have access to your name and email address, which we collect. The reason is to perform tasks assigned to them on our behalf, specifically for authentication and security purposes. However, they are obligated not to disclose or use the information for any other purpose.</p>"},{"location":"privacy-policy/#security","title":"Security","text":"<p>We value your trust in providing us your Personal Information, thus we are striving to use commercially acceptable means of protecting it. But remember that no method of transmission over the internet, or method of electronic storage is 100% secure and reliable, and we cannot guarantee its absolute security.</p>"},{"location":"privacy-policy/#changes-to-this-privacy-policy","title":"Changes to This Privacy Policy","text":"<p>We may update our Privacy Policy from time to time. Thus, you are advised to review this page periodically for any changes. We will notify you of any changes by posting the new Privacy Policy on this page. These changes are effective immediately, after they are posted on this page.</p>"},{"location":"privacy-policy/#contact-us","title":"Contact Us","text":"<p>If you have any questions or suggestions about our Privacy Policy, do not hesitate to contact us. Contact Information: Email: rimorin@gmail.com</p>"},{"location":"self-hosting/","title":"Self-Hosting Ministry Mapper","text":"<p>Self-Hosting Not Recommended</p> <p>Self-hosting Ministry Mapper requires significant technical expertise and ongoing maintenance. We recommend using our hosted service at ministry-mapper.com instead. Only proceed with self-hosting if you have:</p> <ul> <li>Experienced system administrators or developers</li> <li>Resources for ongoing maintenance and updates</li> <li>Understanding of security best practices</li> <li>Ability to comply with privacy regulations</li> <li>Specific requirements that cannot be met by the hosted service</li> </ul>"},{"location":"self-hosting/#why-we-dont-encourage-self-hosting","title":"Why We Don't Encourage Self-Hosting","text":"<p>While Ministry Mapper is open source, self-hosting comes with challenges:</p> <ul> <li>Technical Complexity: Requires knowledge of Docker, databases, web servers, and cloud infrastructure</li> <li>Security Responsibility: You're responsible for keeping everything secure and updated</li> <li>Maintenance Burden: Regular updates, backups, and monitoring are essential</li> <li>Privacy Compliance: You must ensure GDPR, CCPA, and other privacy law compliance</li> <li>Cost: Server costs, API costs, and time investment often exceed hosted service fees</li> <li>Support: Limited community support for self-hosting issues</li> </ul>"},{"location":"self-hosting/#prerequisites-for-self-hosting","title":"Prerequisites for Self-Hosting","text":"<p>If you've decided to self-host despite our recommendations, ensure you have:</p>"},{"location":"self-hosting/#technical-requirements","title":"Technical Requirements","text":"<ul> <li>Experience with Linux server administration</li> <li>Understanding of Docker and containerization</li> <li>Familiarity with environment variables and configuration</li> <li>Knowledge of web server configuration (Nginx/Apache)</li> <li>Experience with SSL/TLS certificates</li> <li>Understanding of DNS and domain configuration</li> </ul>"},{"location":"self-hosting/#infrastructure-requirements","title":"Infrastructure Requirements","text":"<ul> <li>Cloud hosting service (Railway, Render, DigitalOcean, AWS, etc.)</li> <li>Domain name for your instance</li> <li>Email service for notifications (optional)</li> <li>Budget for API costs (Google Maps, Sentry, etc.)</li> </ul>"},{"location":"self-hosting/#time-commitment","title":"Time Commitment","text":"<ul> <li>Initial setup: 2-4 hours</li> <li>Ongoing maintenance: 2-4 hours per month</li> <li>Emergency support when issues arise</li> </ul>"},{"location":"self-hosting/#architecture-overview","title":"Architecture Overview","text":"<p>Ministry Mapper consists of two separate components:</p> <ol> <li>Backend (ministry-mapper-be): PocketBase server with Go extensions</li> <li>Repository: github.com/rimorin/ministry-mapper-be</li> <li>Technology: Go, PocketBase, SQLite</li> <li> <p>Runs on port 8080 (Docker) or 8090 (local)</p> </li> <li> <p>Frontend (ministry-mapper-v2): React web application</p> </li> <li>Repository: github.com/rimorin/ministry-mapper-v2</li> <li>Technology: React, TypeScript, Vite</li> <li>Static files deployed to hosting service</li> </ol> <p>Both must be deployed and configured to work together.</p>"},{"location":"self-hosting/#backend-self-hosting-guide","title":"Backend Self-Hosting Guide","text":""},{"location":"self-hosting/#environment-configuration","title":"Environment Configuration","text":"<p>Create a <code>.env</code> file with these settings:</p> <pre><code># Application Settings\nPB_APP_NAME=Ministry Mapper\nPB_APP_URL=https://your-frontend-domain.com\n\n# Initial Admin Account (change password after first login!)\nPB_ADMIN_EMAIL=admin@your-domain.com\nPB_ADMIN_PASSWORD=change_this_secure_password\n\n# Email Configuration (SMTP)\nPB_SMTP_HOST=smtp.gmail.com\nPB_SMTP_PASSWORD=your_app_password\nPB_SMTP_USERNAME=your_email@gmail.com\nPB_SMTP_PORT=587\nPB_SMTP_SENDER_ADDRESS=noreply@your-domain.com\nPB_SMTP_SENDER_NAME=Ministry Mapper\n\n# Security Settings\nPB_ALLOW_ORIGINS=https://your-frontend-domain.com\nPB_HIDE_CONTROLS=true\nPB_ENABLE_RATE_LIMITING=true\n\n# Authentication (optional)\nPB_OTP_ENABLED=false\nPB_MFA_ENABLED=false\n\n# Error Tracking (optional but recommended)\nSENTRY_DSN=your_sentry_dsn\nSENTRY_ENV=production\nSOURCE_COMMIT=\n\n# Service Integration (optional)\nMAILERSEND_API_KEY=\nMAILERSEND_FROM_EMAIL=\nLAUNCHDARKLY_SDK_KEY=\nLAUNCHDARKLY_CONTEXT_KEY=\n</code></pre>"},{"location":"self-hosting/#docker-deployment","title":"Docker Deployment","text":"<ol> <li> <p>Clone the Repository <pre><code>git clone https://github.com/rimorin/ministry-mapper-be.git\ncd ministry-mapper-be\n</code></pre></p> </li> <li> <p>Build Docker Image <pre><code>docker build -t ministry-mapper-backend .\n</code></pre></p> </li> <li> <p>Run Container <pre><code>docker run -d \\\n  -p 8080:8080 \\\n  -v /path/to/pb_data:/app/pb_data \\\n  --env-file .env \\\n  --name ministry-mapper \\\n  ministry-mapper-backend\n</code></pre></p> </li> </ol> <p>Important Notes: - Container runs on port 8080 internally - Mount a persistent volume to <code>/app/pb_data</code> to preserve data - Your database lives in the <code>pb_data</code> folder</p> <ol> <li>Access Admin Panel Navigate to <code>https://your-backend-domain.com/_/</code> and log in with your admin credentials.</li> </ol>"},{"location":"self-hosting/#local-development","title":"Local Development","text":"<p>For testing on your local machine:</p> <pre><code># Clone repository\ngit clone https://github.com/rimorin/ministry-mapper-be.git\ncd ministry-mapper-be\n\n# Install dependencies\n./scripts/install.sh\n\n# Configure environment\ncp .env.sample .env\n# Edit .env with your settings\n\n# Start application\n./scripts/start.sh\n</code></pre> <p>Backend runs at <code>http://localhost:8090</code> by default.</p>"},{"location":"self-hosting/#database-backups","title":"Database Backups","text":"<p>Your data is critical. Set up automated backups:</p> <pre><code># Manual backup\ntar -czf backup-$(date +%Y%m%d).tar.gz /path/to/pb_data/\n\n# Automated daily backup (add to crontab)\n0 2 * * * tar -czf /backups/ministry-mapper-$(date +\\%Y\\%m\\%d).tar.gz /path/to/pb_data/\n</code></pre>"},{"location":"self-hosting/#security-checklist","title":"Security Checklist","text":"<ul> <li>[ ] Change default admin password immediately</li> <li>[ ] Use HTTPS only (never HTTP)</li> <li>[ ] Set <code>PB_ALLOW_ORIGINS</code> to specific domain (not <code>*</code>)</li> <li>[ ] Enable <code>PB_HIDE_CONTROLS=true</code></li> <li>[ ] Enable <code>PB_ENABLE_RATE_LIMITING=true</code></li> <li>[ ] Configure firewall to restrict access</li> <li>[ ] Set up automated backups</li> <li>[ ] Configure Sentry for error monitoring</li> <li>[ ] Use strong, unique passwords</li> <li>[ ] Keep dependencies updated</li> <li>[ ] Review PocketBase security best practices</li> </ul>"},{"location":"self-hosting/#frontend-self-hosting-guide","title":"Frontend Self-Hosting Guide","text":""},{"location":"self-hosting/#environment-configuration_1","title":"Environment Configuration","text":"<p>Create a <code>.env</code> file:</p> <pre><code># System Environment\nVITE_SYSTEM_ENVIRONMENT=production\n\n# Version\nVITE_VERSION=$npm_package_version\n\n# Google Maps API Key (required)\nVITE_GOOGLE_MAPS_API_KEY=your_google_maps_api_key\n\n# PocketBase Backend URL (no trailing slash)\nVITE_POCKETBASE_URL=https://your-backend-domain.com\n\n# Legal Pages (required)\nVITE_PRIVACY_URL=https://your-domain.com/privacy\nVITE_TERMS_URL=https://your-domain.com/terms\nVITE_ABOUT_URL=https://your-domain.com/about\n\n# Error Tracking (optional but recommended)\nVITE_SENTRY_DSN=your_sentry_dsn\n</code></pre>"},{"location":"self-hosting/#building-for-production","title":"Building for Production","text":"<pre><code># Clone repository\ngit clone https://github.com/rimorin/ministry-mapper-v2.git\ncd ministry-mapper-v2\n\n# Install dependencies\nnpm install\n\n# Build\nnpm run build\n</code></pre> <p>Output will be in the <code>build/</code> directory.</p>"},{"location":"self-hosting/#deployment-options","title":"Deployment Options","text":""},{"location":"self-hosting/#static-hosting-services-easiest","title":"Static Hosting Services (Easiest)","text":"<p>Vercel: 1. Import GitHub repository 2. Framework: Vite 3. Build command: <code>npm run build</code> 4. Output directory: <code>build</code> 5. Add environment variables</p> <p>Netlify: 1. New site from Git 2. Build command: <code>npm run build</code> 3. Publish directory: <code>build</code> 4. Add environment variables</p> <p>Cloudflare Pages: 1. Create Pages project 2. Framework: Vite 3. Build command: <code>npm run build</code> 4. Output directory: <code>build</code> 5. Add environment variables</p>"},{"location":"self-hosting/#self-hosted-web-server","title":"Self-Hosted Web Server","text":"<p>Nginx Configuration:</p> <pre><code>server {\n    listen 443 ssl http2;\n    server_name your-domain.com;\n\n    ssl_certificate /path/to/cert.pem;\n    ssl_certificate_key /path/to/key.pem;\n\n    root /var/www/ministry-mapper/build;\n    index index.html;\n\n    location / {\n        try_files $uri $uri/ /index.html;\n    }\n\n    # Caching\n    location ~* \\.(js|css|png|jpg|jpeg|gif|ico|svg|woff|woff2)$ {\n        expires 1y;\n        add_header Cache-Control \"public, immutable\";\n    }\n\n    # Security headers\n    add_header X-Frame-Options \"SAMEORIGIN\" always;\n    add_header X-Content-Type-Options \"nosniff\" always;\n    add_header X-XSS-Protection \"1; mode=block\" always;\n}\n</code></pre> <p>Apache Configuration:</p> <pre><code>&lt;VirtualHost *:443&gt;\n    ServerName your-domain.com\n    DocumentRoot /var/www/ministry-mapper/build\n\n    SSLEngine on\n    SSLCertificateFile /path/to/cert.pem\n    SSLCertificateKeyFile /path/to/key.pem\n\n    &lt;Directory /var/www/ministry-mapper/build&gt;\n        Options -Indexes +FollowSymLinks\n        AllowOverride All\n        Require all granted\n\n        RewriteEngine On\n        RewriteBase /\n        RewriteRule ^index\\.html$ - [L]\n        RewriteCond %{REQUEST_FILENAME} !-f\n        RewriteCond %{REQUEST_FILENAME} !-d\n        RewriteRule . /index.html [L]\n    &lt;/Directory&gt;\n&lt;/VirtualHost&gt;\n</code></pre>"},{"location":"self-hosting/#google-maps-api-setup","title":"Google Maps API Setup","text":"<ol> <li>Go to Google Cloud Console</li> <li>Create project</li> <li>Enable APIs:</li> <li>Maps JavaScript API (required)</li> <li>Geocoding API (optional)</li> <li>Create API key</li> <li>Restrict API key:</li> <li>HTTP referrers: Your domain</li> <li>APIs: Only Maps JavaScript API</li> <li>Enable billing (free tier available)</li> <li>Add key to <code>.env</code></li> </ol>"},{"location":"self-hosting/#sentry-setup-optional","title":"Sentry Setup (Optional)","text":"<ol> <li>Create account at sentry.io</li> <li>Create React project</li> <li>Get DSN</li> <li>Add to <code>.env</code> as <code>VITE_SENTRY_DSN</code></li> </ol>"},{"location":"self-hosting/#maintenance-and-updates","title":"Maintenance and Updates","text":""},{"location":"self-hosting/#regular-maintenance-tasks","title":"Regular Maintenance Tasks","text":"<p>Weekly: - Check Sentry for errors - Review application logs - Monitor API usage (Google Maps) - Verify backups are working</p> <p>Monthly: - Update dependencies: <code>npm install</code> and <code>go get -u</code> - Review security advisories - Test disaster recovery procedures - Check disk space usage - Review user feedback</p> <p>Quarterly: - Security audit - Performance review - Update documentation - Review and update privacy policy - Test all features thoroughly</p>"},{"location":"self-hosting/#updating-to-new-versions","title":"Updating to New Versions","text":"<p>Backend Update: <pre><code>cd ministry-mapper-be\ngit pull origin main\ndocker build -t ministry-mapper-backend .\ndocker stop ministry-mapper\ndocker rm ministry-mapper\ndocker run -d \\\n  -p 8080:8080 \\\n  -v /path/to/pb_data:/app/pb_data \\\n  --env-file .env \\\n  --name ministry-mapper \\\n  ministry-mapper-backend\n</code></pre></p> <p>Frontend Update: <pre><code>cd ministry-mapper-v2\ngit pull origin main\nnpm install\nnpm run build\n# Deploy build/ folder to your hosting service\n</code></pre></p> <p>Always backup before updating!</p>"},{"location":"self-hosting/#monitoring","title":"Monitoring","text":"<p>What to Monitor: - Server uptime and health - Application error rates (Sentry) - API quota usage (Google Maps) - Database size growth - Backup success/failure - SSL certificate expiration - User authentication issues - Performance metrics</p> <p>Tools: - Sentry for error tracking - Google Cloud Console for API usage - Server monitoring (Prometheus, Grafana, etc.) - Uptime monitors (UptimeRobot, Pingdom) - Log aggregation (ELK stack, CloudWatch)</p>"},{"location":"self-hosting/#troubleshooting-self-hosted-instances","title":"Troubleshooting Self-Hosted Instances","text":""},{"location":"self-hosting/#backend-issues","title":"Backend Issues","text":"<p>Port Already in Use: <pre><code>lsof -i :8080\nkill -9 &lt;process_id&gt;\n</code></pre></p> <p>Database Locked: - Stop all instances accessing the database - Ensure only one backend process is running - Check for hung processes</p> <p>Email Not Sending: - Verify SMTP credentials - Check firewall isn't blocking SMTP ports - For Gmail, use App Passwords - Review email logs in <code>pb_data/logs/</code></p> <p>Cannot Access Admin Panel: - URL must be <code>https://your-domain.com/_/</code> (note underscore) - Check <code>PB_HIDE_CONTROLS</code> setting - Verify backend is running - Clear browser cache</p>"},{"location":"self-hosting/#frontend-issues","title":"Frontend Issues","text":"<p>Cannot Connect to Backend: - Verify <code>VITE_POCKETBASE_URL</code> is correct - Check CORS settings in backend - Ensure backend is accessible - Check browser console for errors</p> <p>Maps Not Loading: - Verify Google Maps API key - Check API is enabled - Review API restrictions - Ensure billing is enabled - Check browser console for specific errors</p> <p>Build Failures: - Ensure Node.js version 22+ - Delete <code>node_modules</code> and reinstall - Check all environment variables are set - Review build error messages</p>"},{"location":"self-hosting/#performance-issues","title":"Performance Issues","text":"<p>Slow Response Times: - Check server resources (CPU, RAM, disk) - Review database size and queries - Enable database optimizations - Check network latency - Review PocketBase logs for slow queries</p> <p>High API Costs: - Review Google Maps API usage - Implement caching strategies - Optimize map loading - Check for API abuse</p>"},{"location":"self-hosting/#privacy-and-legal-compliance","title":"Privacy and Legal Compliance","text":""},{"location":"self-hosting/#your-responsibilities-as-self-hoster","title":"Your Responsibilities as Self-Hoster","text":"<p>When self-hosting, you are the data controller and must:</p> <ul> <li>Comply with Privacy Laws: GDPR (EU), CCPA (California), etc.</li> <li>Create Privacy Policy: Explain data collection and usage</li> <li>Create Terms of Service: Define user responsibilities</li> <li>Implement Data Security: Encryption, access controls, backups</li> <li>Handle Data Requests: User access, deletion, portability rights</li> <li>Report Data Breaches: Within legal timeframes</li> <li>Maintain Records: Data processing activities</li> <li>Appoint DPO: If required by regulations</li> </ul>"},{"location":"self-hosting/#required-legal-documents","title":"Required Legal Documents","text":"<p>You must provide:</p> <ol> <li>Privacy Policy - Required by law, must explain:</li> <li>What data you collect</li> <li>How you use it</li> <li>How long you keep it</li> <li>User rights</li> <li> <p>How to contact you</p> </li> <li> <p>Terms of Service - Defines:</p> </li> <li>Acceptable use</li> <li>User responsibilities</li> <li>Liability limitations</li> <li> <p>Termination policies</p> </li> <li> <p>Cookie Policy - If you use cookies/tracking</p> </li> </ol>"},{"location":"self-hosting/#data-protection-measures","title":"Data Protection Measures","text":"<ul> <li>Use HTTPS everywhere</li> <li>Encrypt data at rest</li> <li>Implement access controls</li> <li>Regular security audits</li> <li>Backup encryption</li> <li>Secure password policies</li> <li>Multi-factor authentication</li> <li>Activity logging</li> <li>Regular security updates</li> </ul>"},{"location":"self-hosting/#cost-considerations","title":"Cost Considerations","text":""},{"location":"self-hosting/#infrastructure-costs","title":"Infrastructure Costs","text":"<p>Backend Hosting: - VPS: $10-50/month (DigitalOcean, Linode) - PaaS: $10-30/month (Railway, Render) - Cloud: Variable (AWS, GCP)</p> <p>Frontend Hosting: - Static hosting: $0-10/month (Vercel, Netlify, Cloudflare) - CDN costs: Usually included</p> <p>Domain: - $10-20/year</p> <p>SSL Certificate: - Free (Let's Encrypt) or $0-100/year</p>"},{"location":"self-hosting/#service-costs","title":"Service Costs","text":"<p>Google Maps API: - Free tier: $200/month credit - After free tier: $7 per 1,000 map loads - Small congregations usually stay within free tier</p> <p>Email Service: - Gmail SMTP: Free (limited) - MailerSend: Free tier available - SendGrid: Free tier available</p> <p>Error Tracking: - Sentry: Free tier available - Paid: $26-80/month</p> <p>Backup Storage: - $5-20/month depending on size</p>"},{"location":"self-hosting/#time-investment","title":"Time Investment","text":"<p>Initial Setup: - Backend: 2-3 hours - Frontend: 1-2 hours - Configuration: 1-2 hours - Testing: 2-3 hours - Total: 6-10 hours</p> <p>Monthly Maintenance: - Monitoring: 1-2 hours - Updates: 1-2 hours - Support: 1-3 hours - Total: 3-7 hours</p>"},{"location":"self-hosting/#total-cost-of-ownership-annual","title":"Total Cost of Ownership (Annual)","text":"<p>Small congregation (&lt; 100 users): - Infrastructure: $240-720 - APIs: $0-100 (usually free tier) - Services: $0-300 - Domain/SSL: $10-20 - Total: $250-1,140 + 48-96 hours/year</p> <p>Compare this to a hosted service subscription before committing.</p>"},{"location":"self-hosting/#getting-help","title":"Getting Help","text":""},{"location":"self-hosting/#community-support","title":"Community Support","text":"<ul> <li>GitHub Issues: ministry-mapper-v2 and ministry-mapper-be</li> <li>Read existing issues before creating new ones</li> <li>Provide detailed information when reporting problems</li> </ul>"},{"location":"self-hosting/#what-to-include-in-support-requests","title":"What to Include in Support Requests","text":"<ol> <li>Version numbers (backend and frontend)</li> <li>Deployment environment (Docker, local, hosting service)</li> <li>Error messages (full text)</li> <li>Steps to reproduce</li> <li>Expected vs actual behavior</li> <li>Relevant logs</li> <li>Configuration (sanitized, no secrets)</li> </ol>"},{"location":"self-hosting/#limited-support","title":"Limited Support","text":"<p>Support Limitations</p> <p>Self-hosting support is community-based and limited. The Ministry Mapper team prioritizes the hosted service. For professional support, consider using the hosted service instead.</p>"},{"location":"self-hosting/#alternatives-to-self-hosting","title":"Alternatives to Self-Hosting","text":"<p>Before self-hosting, consider:</p> <ol> <li>Use the Official Hosted Service at ministry-mapper.com</li> <li>No maintenance burden</li> <li>Professional support</li> <li>Automatic updates</li> <li>Better reliability</li> <li>Compliance handled for you</li> <li> <p>Available now!</p> </li> <li> <p>Request Features</p> </li> <li>If you need customization, request features in the main project</li> <li>Benefits everyone</li> <li>Maintained by the team</li> <li> <p>May be added to hosted service</p> </li> <li> <p>Contribute to the Project</p> </li> <li>Improve the main codebase</li> <li>Help others</li> <li>Get community support</li> </ol>"},{"location":"self-hosting/#conclusion","title":"Conclusion","text":"<p>Self-hosting Ministry Mapper is possible but requires significant expertise, time, and resources. We strongly recommend using the hosted service at ministry-mapper.com unless you have specific requirements that justify the additional complexity.</p>"},{"location":"self-hosting/#use-the-hosted-service-instead","title":"Use the Hosted Service Instead","text":"<p>Visit ministry-mapper.com for: - Instant setup - no technical knowledge required - Professional support when you need it - Automatic backups and security updates - Legal compliance assistance - Better reliability and uptime - Lower total cost of ownership</p>"},{"location":"self-hosting/#still-want-to-self-host","title":"Still Want to Self-Host?","text":"<p>If you proceed with self-hosting: - Follow all security best practices - Keep systems updated - Maintain regular backups - Ensure legal compliance - Monitor system health - Budget for ongoing costs - Allocate time for maintenance</p> <p>Make sure you've read this entire guide and understand the implications. Good luck!</p>"},{"location":"terms-of-service/","title":"Terms Of Service","text":""},{"location":"terms-of-service/#introduction","title":"Introduction","text":"<p>These terms of service (\"Terms\") apply to your access and use of Ministry Mapper (the \"Service\"). Please read them carefully.</p>"},{"location":"terms-of-service/#accepting-these-terms","title":"Accepting these Terms","text":"<p>If you access or use the Service, it means you agree to be bound by all of the terms below. So, before you use the Service, please read all of the terms. If you don't agree to all of the terms below, please do not use the Service. Also, if a term does not make sense to you, please let us know by e-mailing rimorin@gmail.com.</p>"},{"location":"terms-of-service/#changes-to-these-terms","title":"Changes to these Terms","text":"<p>We reserve the right to modify these Terms at any time. For instance, we may need to change these Terms if we come out with a new feature or for some other reason.</p> <p>Whenever we make changes to these Terms, the changes are effective immediately after we post such revised Terms (indicated by revising the date at the top of these Terms) or upon your acceptance if we provide a mechanism for your immediate acceptance of the revised Terms (such as a click-through confirmation or acceptance button). It is your responsibility to check Ministry Mapper for changes to these Terms.</p> <p>If you continue to use the Service after the revised Terms go into effect, then you have accepted the changes to these Terms.</p>"},{"location":"terms-of-service/#privacy-policy","title":"Privacy Policy","text":"<p>For information about how we collect and use information about users of the Service, please check out our privacy policy.</p>"},{"location":"terms-of-service/#third-party-services","title":"Third-Party Services","text":"<p>From time to time, we may provide you with links to third party websites or services that we do not own or control. Your use of the Service may also include the use of applications that are developed or owned by a third party. Your use of such third party applications, websites, and services is governed by that party's own terms of service or privacy policies. We encourage you to read the terms and conditions and privacy policy of any third party application, website or service that you visit or use.</p>"},{"location":"terms-of-service/#creating-accounts","title":"Creating Accounts","text":"<p>When you create an account or use another service to log in to the Service, you agree to maintain the security of your password and accept all risks of unauthorized access to any data or other information you provide to the Service.</p> <p>If you discover or suspect any Service security breaches, please let us know as soon as possible.</p>"},{"location":"terms-of-service/#your-content-conduct","title":"Your Content &amp; Conduct","text":"<p>Our Service allows you and other users to create territories, record householder status and notes, and manage publisher links. You are responsible for the content that you make available to the Service, including its legality, reliability, and appropriateness.</p> <p>When you create territories, record householder status and notes, or manage publisher links on the Service, you grant us the right and license to use, reproduce, modify, publicly perform, publicly display and distribute your content on or through the Service. We may format your content for display throughout the Service, but we will not edit or revise the substance of your content itself.</p> <p>You have the ability to remove the content that you posted by deleting territories, householder statuses, notes, or publisher links. Once you delete your content, it will not appear on the Service, but copies of your deleted content may remain in our system or backups for some period of time. We will retain web server access logs and then delete them after a period of time.</p> <p>While using our Service, we ask that you adhere to the following guidelines:</p> <ul> <li>Please respect the privacy of householders. We kindly ask you not to share or include sensitive information about householders.</li> <li>We encourage you to use the system responsibly and with discretion. Please refrain from posting content that could be seen as harmful or inappropriate.</li> <li>We ask that you use the system in a way that is respectful to all users. Please avoid actions that could interfere with the enjoyment or use of the Service by others.</li> <li>Please respect the privacy of other publishers. We discourage the collection of personal information about other users without their consent.</li> <li>We kindly ask you not to store sensitive or confidential information about the congregation on the system.</li> <li>We kindly ask you not to attempt to circumvent the system settings. This includes any filtering, security measures, rate limits or other features designed to protect the Service, users of the Service, or third parties.</li> </ul>"},{"location":"terms-of-service/#termination","title":"Termination","text":"<p>If you breach any of these Terms, we have the right to suspend or disable your access to or use of the Service.</p>"},{"location":"terms-of-service/#feedback","title":"Feedback","text":"<p>Please let us know what you think of the Service, these Terms and, in general, Ministry Mapper. When you provide us with any feedback, comments or suggestions about the Service, these Terms and, in general, Ministry Mapper, you irrevocably assign to us all of your right, title and interest in and to your feedback, comments and suggestions.</p>"},{"location":"terms-of-service/#questions-contact-information","title":"Questions &amp; Contact Information","text":"<p>Questions or comments about the Service may be directed to us at the email address rimorin@gmail.com.</p>"},{"location":"user-guide/","title":"User Guide","text":""},{"location":"user-guide/#introduction","title":"Introduction","text":"<p>This guide explains how to use Ministry Mapper for managing field service territories. Ministry Mapper is a web-based application that helps congregations organize territory assignments, track visits, and coordinate field service activities.</p>"},{"location":"user-guide/#getting-started","title":"Getting Started","text":""},{"location":"user-guide/#creating-your-account","title":"Creating Your Account","text":"<ol> <li> <p>Visit the Website</p> </li> <li> <p>Go to your congregation's Ministry Mapper URL</p> </li> <li> <p>Click \"Sign Up\"</p> </li> <li> <p>Fill in Your Information</p> </li> <li> <p>Enter your name</p> </li> <li>Enter your email address (use a valid email you check regularly)</li> <li>Create a strong password (at least 6 characters with numbers, capital letters)</li> <li>Confirm your password</li> <li> <p>Review and agree to the privacy policy and terms of service</p> </li> <li> <p>Verify Your Email</p> </li> <li> <p>Check your email for a verification message</p> </li> <li>Click the verification link to activate your account</li> <li> <p>Your account is now verified</p> </li> <li> <p>First Login</p> </li> <li>Return to the login page</li> <li>Enter your email and password</li> <li>If your organization uses One-Time Password (OTP), enter the code sent to your email</li> <li>After logging in, wait for an administrator to grant you access to your congregation</li> </ol>"},{"location":"user-guide/#understanding-user-roles","title":"Understanding User Roles","text":"<p>Ministry Mapper has four access levels:</p> <p>Publisher</p> <ul> <li>View territories assigned to you via links</li> <li>Update address status (done, not home, do not call)</li> <li>Add notes to addresses</li> <li>View territory maps</li> <li>Track visit attempts</li> </ul> <p>Read-Only</p> <ul> <li>View all territories</li> <li>See address information</li> <li>Cannot make changes to territories or addresses</li> </ul> <p>Conductor</p> <ul> <li>Everything Read-Only can do, plus:</li> <li>Create and manage territory assignments</li> <li>View all territories and their progress</li> <li>Access congregation messages</li> <li>Manage congregation options (status types)</li> </ul> <p>Administrator</p> <ul> <li>Full access to everything</li> <li>Create, edit, and delete territories</li> <li>Manage addresses and buildings</li> <li>Assign user roles and permissions</li> <li>Configure congregation settings</li> <li>Manage users and invitations</li> </ul>"},{"location":"user-guide/#main-features","title":"Main Features","text":""},{"location":"user-guide/#main-interface","title":"Main Interface","text":"<p>After logging in, the interface varies based on your role:</p> <p>Publishers access territories through:</p> <ul> <li>Assignment links sent by administrators</li> <li>Links expire after a set time (default 24 hours)</li> <li>No dashboard - direct access to assigned territories</li> </ul> <p>Conductors and Administrators see:</p> <ul> <li>Territory Selector: Dropdown to choose which territory to manage</li> <li>Territory View: Selected territory with addresses and map</li> <li>Action Buttons: Access to assignments, messages, and settings</li> <li>Progress Tracking: Visual progress bars showing territory completion</li> </ul>"},{"location":"user-guide/#viewing-territories","title":"Viewing Territories","text":""},{"location":"user-guide/#for-publishers","title":"For Publishers","text":"<ol> <li>Click the assignment link provided by your administrator</li> <li>You'll see the territory map and address list</li> <li>Territory information includes:</li> <li>Territory code and description</li> <li>Interactive Google Map with address markers</li> <li>List of addresses/units to visit</li> <li>Progress percentage</li> </ol>"},{"location":"user-guide/#for-conductors-and-administrators","title":"For Conductors and Administrators","text":"<ol> <li>Select a territory from the dropdown menu at the top</li> <li>The territory displays with:</li> <li>Territory code and description</li> <li>Progress bar showing completion percentage</li> <li>Map view with all addresses</li> <li>Detailed address/unit list</li> <li>Management options (edit, delete, reset)</li> </ol>"},{"location":"user-guide/#working-with-addresses","title":"Working With Addresses","text":""},{"location":"user-guide/#viewing-address-information","title":"Viewing Address Information","text":"<p>Each address/unit shows:</p> <ul> <li>Address/Unit Number: Location identifier</li> <li>Floor: Building floor level (for multi-story properties)</li> <li>Type: Household type based on congregation options (e.g., Chinese, English, Tamil)</li> <li>Status: Current status (default: not done, done, not home, do not call, invalid)</li> <li>Not Home Count: Number of times nobody answered</li> <li>Do Not Call Date: When DNC was marked (if applicable)</li> <li>Notes: Important information about the householder</li> <li>Last Updated: Timestamp of last update</li> <li>Updated By: User who made the last update</li> <li>Sequence: Order for visiting addresses</li> </ul>"},{"location":"user-guide/#updating-address-status","title":"Updating Address Status","text":"<ol> <li> <p>Find the Address</p> </li> <li> <p>Scroll through the address list in the territory view</p> </li> <li> <p>Addresses are grouped by floor for multi-story buildings</p> </li> <li> <p>Click to Edit</p> </li> <li> <p>Click on an address/unit card</p> </li> <li> <p>An edit modal will open</p> </li> <li> <p>Change Status</p> </li> <li>Select the appropriate status:<ul> <li>Not Done: Not yet visited (default)</li> <li>Done: Householder was contacted</li> <li>Not Home: Nobody answered</li> <li>Do Not Call: Householder requested no further visits</li> <li>Invalid: Address doesn't exist or is inaccessible</li> </ul> </li> <li> <p>Update Type (if available)</p> </li> <li> <p>Select household type(s) based on congregation options</p> </li> <li> <p>Multiple types can be selected if configured by administrator</p> </li> <li> <p>Add Notes</p> </li> <li> <p>Type relevant information:</p> <ul> <li>Best times to visit</li> <li>Language spoken</li> <li>Special circumstances</li> <li>Follow-up needed</li> </ul> </li> <li> <p>Keep notes respectful and factual</p> </li> <li> <p>Save Changes</p> </li> <li>Click \"Save\"</li> <li>Changes save immediately to the database</li> <li>Other users will see updates in real-time</li> </ol>"},{"location":"user-guide/#understanding-status-colors","title":"Understanding Status Colors","text":"<p>Addresses are color-coded for quick identification:</p> <ul> <li>Light background: Not started or in progress</li> <li>Highlighted: Nearly complete territory (approaching 90% completion)</li> <li>Grayed out: Completed units or non-countable addresses</li> </ul>"},{"location":"user-guide/#using-the-map-view","title":"Using the Map View","text":"<ol> <li> <p>Access Map</p> </li> <li> <p>The Google Maps view is displayed at the top of the territory</p> </li> <li> <p>Shows territory location with address markers</p> </li> <li> <p>Navigate</p> </li> <li> <p>Zoom in/out with +/- buttons or pinch gesture</p> </li> <li>Drag to move around the map</li> <li> <p>Click address markers to see details</p> </li> <li> <p>Get Directions</p> </li> <li> <p>Click the \"Directions\" button above the map</p> </li> <li>Opens Google Maps in a new tab with directions from your congregation location</li> <li> <p>Helps you plan your route</p> </li> <li> <p>Change Location (Administrators)</p> </li> <li>Click the geolocation button to set a custom starting point for directions</li> <li>Useful for territories far from the congregation</li> </ol>"},{"location":"user-guide/#real-time-data-synchronization","title":"Real-Time Data Synchronization","text":"<p>Ministry Mapper uses PocketBase realtime subscriptions:</p> <ul> <li>Instant Updates: Changes to addresses appear immediately for all users</li> <li>Live Collaboration: Multiple users can work on different territories simultaneously</li> <li>Connection Status: The app automatically reconnects if internet connection is lost</li> <li>Background Sync: Updates sync automatically when you're viewing a territory</li> </ul> <p>Note: Real-time updates only work while you have the territory open. Closing the browser or navigating away will stop the subscription.</p>"},{"location":"user-guide/#territory-assignment-for-administrators-and-conductors","title":"Territory Assignment (For Administrators and Conductors)","text":"<p>Ministry Mapper doesn't have a \"request territory\" system for publishers. Instead, administrators and conductors create assignment links.</p>"},{"location":"user-guide/#creating-assignment-links","title":"Creating Assignment Links","text":"<ol> <li> <p>Access Assignments</p> </li> <li> <p>Click the \"Assignments\" button in the top navigation</p> </li> <li> <p>View all active assignment links</p> </li> <li> <p>Create New Assignment</p> </li> <li> <p>Click \"Create New Assignment\"</p> </li> <li>Select the territory from dropdown</li> <li>Choose assignment type:<ul> <li>Normal Assignment: Regular territory assignment</li> <li>Personal Slip: For personal territory work</li> </ul> </li> <li>Select publisher (optional - links can be shared with anyone)</li> <li>Set expiry time (default: 24 hours)</li> <li> <p>Click \"Create\"</p> </li> <li> <p>Share the Link</p> </li> <li>Copy the generated link</li> <li>Send to publishers via email, WhatsApp, or other messaging</li> <li>Publisher clicks the link to access the territory</li> <li>Link expires automatically after the set time</li> </ol>"},{"location":"user-guide/#managing-assignments","title":"Managing Assignments","text":"<ul> <li>View Active Links: See all current assignment links and their expiry times</li> <li>Delete Links: Remove links before they expire if needed</li> <li>Monitor Usage: Check which territories are currently assigned</li> </ul>"},{"location":"user-guide/#messages-and-instructions-for-administrators-and-conductors","title":"Messages and Instructions (For Administrators and Conductors)","text":""},{"location":"user-guide/#viewing-messages","title":"Viewing Messages","text":"<ol> <li>Click the \"Messages\" button in the top navigation</li> <li>See congregation-wide messages and territory-specific instructions</li> <li>Messages show:</li> <li>Message content</li> <li>Type (feedback or instruction)</li> <li>Creator and creation date</li> <li>Read status</li> </ol>"},{"location":"user-guide/#creating-instructions","title":"Creating Instructions","text":"<ol> <li>Select a territory</li> <li>Click \"New Instruction\"</li> <li>Type your message for publishers working this territory</li> <li>Instructions appear when publishers access the territory link</li> </ol>"},{"location":"user-guide/#managing-messages","title":"Managing Messages","text":"<ul> <li>Pin Messages: Keep important messages at the top</li> <li>Mark as Read: Track which messages you've reviewed</li> <li>Delete Messages: Remove outdated messages</li> </ul>"},{"location":"user-guide/#user-management-for-administrators","title":"User Management (For Administrators)","text":""},{"location":"user-guide/#inviting-users","title":"Inviting Users","text":"<ol> <li>Click on your profile icon</li> <li>Select \"User Management\"</li> <li>Click \"Invite User\"</li> <li>Enter the user's email address</li> <li>Select their congregation role:</li> <li>Publisher</li> <li>Read-Only</li> <li>Conductor</li> <li>Administrator</li> <li>Send invitation</li> <li>User receives email with link to create account</li> </ol>"},{"location":"user-guide/#managing-existing-users","title":"Managing Existing Users","text":"<ol> <li>Go to \"User Management\"</li> <li>View list of all users in your congregation</li> <li>For each user you can:</li> <li>Change Role: Update access level</li> <li>Remove Access: Set to \"Delete Access\" to revoke permissions</li> <li>View Details: See email and verification status</li> </ol> <p>Important: You need \"Administrator\" role to manage users. Conductors cannot change user permissions.</p>"},{"location":"user-guide/#managing-territories-for-administrators","title":"Managing Territories (For Administrators)","text":""},{"location":"user-guide/#creating-territories","title":"Creating Territories","text":"<ol> <li>Select \"Create New\" from the territory dropdown</li> <li>Enter territory code (e.g., M01, W12)</li> <li>Enter territory description</li> <li>Click \"Create\"</li> <li>Start adding addresses to the new territory</li> </ol>"},{"location":"user-guide/#managing-territory-settings","title":"Managing Territory Settings","text":"<ul> <li>Change Territory Name: Update the description</li> <li>Change Territory Code: Modify the territory identifier</li> <li>Reset Territory: Clear all address statuses back to \"not done\"</li> <li>Delete Territory: Remove territory and all its addresses (cannot be undone)</li> </ul>"},{"location":"user-guide/#managing-multiple-territories","title":"Managing Multiple Territories","text":"<p>Territory selection works via dropdown:</p> <ol> <li> <p>Switch Between Territories</p> </li> <li> <p>Use the territory selector dropdown at the top</p> </li> <li> <p>Select any territory to view and manage it</p> </li> <li> <p>Track Progress</p> </li> <li>Progress bars show completion percentage</li> <li>Based on countable addresses vs. completed addresses</li> <li>Updates in real-time as addresses are marked</li> </ol>"},{"location":"user-guide/#advanced-features","title":"Advanced Features","text":""},{"location":"user-guide/#congregation-options-for-administrators","title":"Congregation Options (For Administrators)","text":"<p>Customize household types for your congregation:</p> <ol> <li>Click \"Congregation Options\" in settings</li> <li>Add, edit, or remove household types</li> <li>Set which types are countable</li> <li>Set default type for new addresses</li> <li>Reorder types by dragging</li> </ol> <p>Examples: Chinese, English, Tamil, Malay, etc.</p>"},{"location":"user-guide/#congregation-settings-for-administrators","title":"Congregation Settings (For Administrators)","text":"<p>Configure how territories work:</p> <ol> <li>Max Tries: Set how many \"not home\" attempts before considering complete</li> <li>Origin Location: Set default location for map directions</li> <li>Default Expiry Hours: Set how long assignment links last before expiring</li> <li>Multiple Options: Allow addresses to have multiple types</li> </ol>"},{"location":"user-guide/#using-filters","title":"Using Filters","text":"<p>The application doesn't have built-in filters, but addresses are organized by:</p> <ul> <li>Status: Visual color coding helps identify address states</li> <li>Floor: Multi-story buildings group units by floor</li> <li>Sequence: Addresses are ordered by sequence number for logical visiting order</li> </ul>"},{"location":"user-guide/#address-management-for-administrators","title":"Address Management (For Administrators)","text":""},{"location":"user-guide/#adding-public-addresses-multi-story-buildings","title":"Adding Public Addresses (Multi-story buildings)","text":"<ol> <li>Click \"New Public Address\"</li> <li>Enter postal code</li> <li>Enter address name</li> <li>Set number of floors</li> <li>Enter starting floor number</li> <li>Enter number of units per floor</li> <li>Set unit numbering format</li> <li>Click \"Create\"</li> <li>Units are automatically generated for all floors</li> </ol>"},{"location":"user-guide/#adding-private-addresses-single-story-properties","title":"Adding Private Addresses (Single-story properties)","text":"<ol> <li>Click \"New Private Address\"</li> <li>Enter postal code</li> <li>Enter property name/address</li> <li>Click \"Create\"</li> <li>Manually add individual houses/units as needed</li> </ol>"},{"location":"user-guide/#editing-addresses","title":"Editing Addresses","text":"<p>Administrators can:</p> <ul> <li>Change Address Name: Update the building/property name</li> <li>Change Postal Code: Update the postal code</li> <li>Add/Delete Floors: Modify floor structure for public addresses</li> <li>Add/Delete Units: Manage individual units</li> <li>Change Unit Sequence: Reorder units for visiting</li> <li>Reset Address: Clear all unit statuses</li> <li>Delete Address: Remove entire address with all units</li> </ul>"},{"location":"user-guide/#quick-links-for-administrators","title":"Quick Links (For Administrators)","text":"<p>Create temporary access links:</p> <ol> <li>Click \"Get Quick Link\"</li> <li>Link is generated for current territory</li> <li>Share with anyone who needs temporary access</li> <li>Link expires based on congregation settings</li> <li>No login required for recipients</li> </ol>"},{"location":"user-guide/#mobile-usage","title":"Mobile Usage","text":""},{"location":"user-guide/#using-on-your-phone","title":"Using on Your Phone","text":"<p>Ministry Mapper is fully responsive and works on mobile devices:</p> <p>Access on Mobile:</p> <ol> <li>Open your browser (Safari, Chrome, etc.)</li> <li>Navigate to your Ministry Mapper URL</li> <li>Log in or click assignment link</li> <li>The interface automatically adapts to your screen size</li> </ol> <p>Progressive Web App (PWA):</p> <ul> <li>Ministry Mapper can be installed as a PWA</li> <li>Provides app-like experience</li> <li>Faster loading with cached resources</li> <li>Works on iOS and Android</li> </ul> <p>Installation Steps:</p> <ol> <li>Open Ministry Mapper in your mobile browser</li> <li>For iOS Safari: Tap Share \u2192 \"Add to Home Screen\"</li> <li>For Android Chrome: Tap menu (\u22ee) \u2192 \"Install app\" or \"Add to Home Screen\"</li> <li>The app icon appears on your home screen</li> </ol> <p>Mobile Features:</p> <ul> <li>Touch-friendly buttons and interface</li> <li>Google Maps integration for navigation</li> <li>Responsive layout adapts to screen size</li> <li>All desktop features available</li> </ul>"},{"location":"user-guide/#offline-usage","title":"Offline Usage","text":"<p>Ministry Mapper requires internet connection:</p> <p>Internet Required:</p> <ul> <li>PocketBase backend connection needed for all data operations</li> <li>Real-time synchronization requires active connection</li> <li>Google Maps requires internet for display</li> <li>Updates cannot be made offline</li> </ul> <p>Service Worker Caching:</p> <ul> <li>Static assets (CSS, JS, fonts) are cached for faster loading</li> <li>External assets cached for 7 days</li> <li>Fonts cached for 30 days</li> <li>App shell loads faster on repeat visits</li> </ul> <p>Best Practice:</p> <ul> <li>Ensure stable internet before starting fieldwork</li> <li>Check connection if updates aren't saving</li> <li>Consider downloading directions ahead of time</li> </ul>"},{"location":"user-guide/#settings","title":"Settings","text":""},{"location":"user-guide/#personal-profile","title":"Personal Profile","text":"<p>Access your profile settings:</p> <ol> <li>Click on your profile name/icon</li> <li>Select \"Profile\"</li> <li>Available options:</li> <li>Change password</li> <li>View account information</li> <li>Access user management (Administrators only)</li> </ol>"},{"location":"user-guide/#changing-your-password","title":"Changing Your Password","text":"<ol> <li>Go to your profile</li> <li>Enter your current password</li> <li>Enter new password (minimum 6 characters, must include numbers and capital letters)</li> <li>Confirm new password</li> <li>Click \"Change Password\"</li> </ol>"},{"location":"user-guide/#password-recovery","title":"Password Recovery","text":"<p>If you forgot your password:</p> <ol> <li>Click \"Forgotten your password?\" on login page</li> <li>Enter your email address</li> <li>Click \"Continue\"</li> <li>Check your email for password reset link</li> <li>Click the link and create a new password</li> </ol>"},{"location":"user-guide/#language-selection","title":"Language Selection","text":"<p>Ministry Mapper supports multiple languages:</p> <p>Available Languages:</p> <ul> <li>English (en)</li> <li>Japanese (ja / \u65e5\u672c\u8a9e)</li> <li>Korean (ko / \ud55c\uad6d\uc5b4)</li> <li>Chinese (zh / \u4e2d\u6587)</li> <li>Indonesian (id / Bahasa Indonesia)</li> <li>Malay (ms / Bahasa Melayu)</li> <li>Tamil (ta / \u0ba4\u0bae\u0bbf\u0bb4\u0bcd)</li> </ul> <p>Changing Language:</p> <ul> <li>Language is automatically detected from your browser settings</li> <li>To change: Update your browser's language preferences</li> <li>The app will automatically use the matching translation</li> <li>Default view (list/map)</li> </ul>"},{"location":"user-guide/#tips-for-effective-territory-work","title":"Tips for Effective Territory Work","text":""},{"location":"user-guide/#organization","title":"Organization","text":"<ul> <li>Start with a Plan: Review the entire territory before going out</li> <li>Work Systematically: Complete one section/building at a time</li> <li>Update as You Go: Don't wait until you're home to update</li> <li>Use Notes Wisely: Add helpful info for next publisher</li> </ul>"},{"location":"user-guide/#communication","title":"Communication","text":"<ul> <li>Be Clear: Write notes others can understand</li> <li>Be Respectful: Keep notes professional and kind</li> <li>Be Accurate: Double-check address and status</li> <li>Be Timely: Update immediately after visiting</li> </ul>"},{"location":"user-guide/#time-management","title":"Time Management","text":"<ul> <li>Set Goals: Aim for a certain number of addresses per session</li> <li>Check Often: Review your territories regularly</li> <li>Return Promptly: Don't keep territories too long</li> <li>Ask for Help: If territory is too large, communicate with servant</li> </ul>"},{"location":"user-guide/#quality-work","title":"Quality Work","text":"<ul> <li>Be Thorough: Cover all addresses</li> <li>Be Persistent: Try different times/days for \"not homes\"</li> <li>Be Flexible: Adapt to what the territory needs</li> <li>Be Prayerful: Remember the purpose of the work</li> </ul>"},{"location":"user-guide/#troubleshooting","title":"Troubleshooting","text":""},{"location":"user-guide/#cant-log-in","title":"Can't Log In","text":"<p>Forgot Password:</p> <ol> <li>Click \"Forgot Password\"</li> <li>Enter your email</li> <li>Check email for reset link</li> <li>Create new password</li> </ol> <p>Account Locked:</p> <ul> <li>Contact territory servant or administrator</li> <li>May need to verify your email</li> <li>Could be due to inactivity</li> </ul>"},{"location":"user-guide/#changes-not-saving","title":"Changes Not Saving","text":"<p>Possible Causes:</p> <ul> <li>Poor internet connection</li> <li>Browser issue</li> <li>Someone else editing same record</li> </ul> <p>Solutions:</p> <ul> <li>Check internet connection</li> <li>Refresh page and try again</li> <li>Wait a moment and retry</li> <li>Contact support if persists</li> </ul>"},{"location":"user-guide/#map-not-loading","title":"Map Not Loading","text":"<p>Quick Fixes:</p> <ul> <li>Refresh the page (Google Maps may timeout or fail to load initially)</li> <li>Check internet connection</li> <li>Verify VITE_GOOGLE_MAPS_API_KEY is correctly configured</li> <li>Check browser console for specific error messages</li> <li>Ensure Google Maps APIs are enabled in Google Cloud Console</li> </ul>"},{"location":"user-guide/#connection-or-sync-issues","title":"Connection or Sync Issues","text":"<p>Problem: Changes not saving or \"Connection lost\" message</p> <p>Solutions:</p> <ul> <li>Check your internet connection</li> <li>Refresh the browser page</li> <li>The app will automatically reconnect when connection is restored</li> <li>Check if PocketBase backend is running</li> <li>Look for error messages in browser console</li> </ul>"},{"location":"user-guide/#link-expired","title":"Link Expired","text":"<p>Problem: Assignment link shows \"Link has expired\"</p> <p>Solutions:</p> <ul> <li>Contact administrator for a new link</li> <li>Assignment links expire after set time (default 24 hours)</li> <li>Administrator needs to create a new assignment</li> </ul>"},{"location":"user-guide/#permission-issues","title":"Permission Issues","text":"<p>Problem: \"You don't have permission to access this\" message</p> <p>Solutions:</p> <ul> <li>Contact your administrator to grant appropriate role</li> <li>Verify your email is verified</li> <li>Check that you've been added to the correct congregation</li> <li>Log out and log back in to refresh permissions</li> </ul>"},{"location":"user-guide/#getting-help","title":"Getting Help","text":""},{"location":"user-guide/#support-resources","title":"Support Resources","text":"<ol> <li>Administrator/Conductor: Your congregation's Ministry Mapper admin</li> <li>GitHub Wiki: https://github.com/rimorin/ministry-mapper/wiki</li> <li>Documentation: Check the setup and security guides</li> <li>GitHub Issues: Report bugs at the repository</li> </ol>"},{"location":"user-guide/#reporting-problems","title":"Reporting Problems","text":"<p>When reporting issues, include:</p> <ul> <li>What you were trying to do</li> <li>What happened instead</li> <li>Any error messages (exact text or screenshot)</li> <li>Browser and version (Chrome, Safari, Firefox, etc.)</li> <li>Device type (desktop, mobile, tablet)</li> <li>Operating system</li> <li>Whether you're using an assignment link or logged in</li> </ul>"},{"location":"user-guide/#best-practices-summary","title":"Best Practices Summary","text":"<p>\u2713 Update address status immediately after visiting \u2713 Write clear, respectful notes about visits \u2713 Complete territories in reasonable time \u2713 Communicate with administrators about issues \u2713 Keep login credentials secure \u2713 Respect householder privacy \u2713 Use the mobile web app while in field service \u2713 Ensure stable internet connection before starting \u2713 Log out on shared devices \u2713 Ask administrators if you need help</p>"},{"location":"user-guide/#keyboard-shortcuts","title":"Keyboard Shortcuts","text":"<p>Ministry Mapper uses standard browser shortcuts:</p> <ul> <li><code>Escape</code>: Close open modals/dialogs</li> <li><code>Tab</code>: Navigate between form fields</li> <li><code>Enter</code>: Submit forms or confirm actions</li> <li><code>Ctrl/Cmd + R</code>: Refresh page</li> <li>Standard text editing shortcuts work in note fields</li> </ul>"},{"location":"user-guide/#privacy-and-security","title":"Privacy and Security","text":""},{"location":"user-guide/#protecting-information","title":"Protecting Information","text":"<ul> <li>Never Share Login: Your account credentials are personal</li> <li>Log Out on Shared Devices: Always log out when using public/shared computers</li> <li>Use Strong Password: Minimum 6 characters with numbers and capital letters</li> <li>Be Careful With Notes: Only record necessary, respectful information</li> <li>Follow Privacy Laws: Comply with GDPR, CCPA, and local data protection regulations</li> <li>No Sensitive Data: Avoid recording personal details beyond what's needed</li> </ul>"},{"location":"user-guide/#what-information-is-stored","title":"What Information is Stored","text":"<ul> <li>Your account details (name, email, verified status)</li> <li>Your congregation role assignment</li> <li>Territory assignment links you've created or accessed</li> <li>Address updates you've made (status, notes, timestamp)</li> <li>Messages and instructions</li> </ul>"},{"location":"user-guide/#data-storage","title":"Data Storage","text":"<ul> <li>Backend: PocketBase database (configured by administrator)</li> <li>Hosting: Depends on congregation's deployment</li> <li>Real-time Sync: Through PocketBase realtime subscriptions</li> <li>Cached Data: Service worker caches static assets for performance</li> </ul>"},{"location":"user-guide/#conclusion","title":"Conclusion","text":"<p>Ministry Mapper is a web-based tool that helps congregations manage field service territories efficiently. It eliminates paper waste, provides real-time collaboration, and works on any device with internet access.</p> <p>Key Features:</p> <ul> <li>Real-time updates through PocketBase</li> <li>Google Maps integration for navigation</li> <li>Mobile-responsive design</li> <li>Multi-language support</li> <li>Role-based permissions</li> <li>Flexible congregation settings</li> </ul> <p>Getting Help:</p> <ul> <li>Administrators: Check the setup guides</li> <li>Users: Contact your congregation administrator</li> <li>Technical Issues: Visit the GitHub wiki at https://github.com/rimorin/ministry-mapper/wiki</li> </ul> <p>For backend setup information, see the ministry-mapper-be repository.</p>"}]}